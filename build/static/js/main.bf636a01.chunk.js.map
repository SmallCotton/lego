{"version":3,"sources":["config/context.js","common/utils/json2schema.js","common/utils/initeditor.js","common/utils/popup.js","common/utils/index.js","components/wrap/index.js","components/nav/index.js","components/aside/index.js","components/table/index.js","components/charts/index.js","components/button/index.js","components/form/schema-editor.js","components/form/index.js","components/ace-code/index.js","config/schema/setting.js","config/schema/create-form.js","config/schema/create-table.js","config/schema/create-chart.js","config/apis.js","pages/setting/index.js","pages/guide/form-help.js","pages/guide/table-help.js","pages/guide/chart-help.js","pages/guide/general.js","pages/guide/index.js","pages/form/create.js","pages/form/list.js","pages/form/edit.js","pages/form/use.js","pages/table/index.js","pages/table/list.js","pages/table/use.js","pages/chart/index.js","pages/chart/list.js","pages/chart/use.js","index.js"],"names":["SettingContext","React","createContext","dict","(name)","(desc)","(cate)","(shop)","(show)","(price|sale)","(url|link)","(product)","(hot)","(order)","(image|img|pic)","(state|status)","(start)","(end)","(time|datetime)","(date)","(range)","(focus)","(comment)","(num)","(color)","(game)","(pay|buy)","(amt|amount)","(detail)","(click)","(rank)","getTitle","key","rule","RegExp","test","getType","data","toString","call","dataHandle","number","type","format","title","options","grid_columns","boolean","string","schema","links","rel","href","mediaType","download","flatpickr","wrap","showClearButton","time_24hr","allowInput","object","opts","arguments","length","undefined","k","properties","array","items","json2schema","json","name","JSON","parse","disable_collapse","err","console","warn","JSONEditor","window","defaults","resolvers","unshift","editors","uploadFile","AbstractEditor","extend","build","self","this","btn","document","createElement","className","innerHTML","join","getUploadBtn","header","label","theme","getFormInputLabel","input","getFormInputField","inputGroup","getInputGroup","progress","style","getProgress","insertBefore","parentNode","control","getFormControl","description","infoButton","container","appendChild","value","addEventListener","e","preventDefault","stopPropagation","is_dirty","refreshValue","onChange","firstChild","files","marginBottom","file","uploader","formUploader","fileUploader","path","percent","opacity","width","concat","success","url","setTimeout","setValue","fail","msg","alert","val","serialized","sanitize","initeditor","el","iconlib","plugins","ace","choices","shouldSort","sceditor","emoticonsEnabled","icons","height","toolbar","dragdrop","allowedTypes","handleFile","createPlaceholder","placeholder","insert","log","cancel","_JsonEditor_","_objectSpread","disable_edit_json","disable_properties","popup","show","popupShow","src","isIframe","renderIframe","html","renderHtml","body","hide","popupHide","removeChild","parseUrl","map","location","search","replace","split","forEach","kv","arr","axios","method","api","params","toUpperCase","qs","stringify","Promise","resolve","reject","_axios","then","res","code","catch","String","toast","box","execJs","jsCode","s","fn","Date","now","buildUrl","Object","assign","find","slice","findByPath","indexOf","obj","splits","match","_loop","i","v","Array","isArray","o","hasOwnProperty","_ret","findSchemaByPath","tmp","props","len","updateSchemaByPath","isInFrame","top","Wrap","_ref","children","_ref$title","_ref$loading","loading","mode","useContext","react_default","a","padding","Nav","react_router_dom","to","Aside","context","_useState","useState","_useState2","slicedToArray","openIdx","setOpenIdx","FixedLink","idx","activeClassName","onClick","sideMenu","parseMenu","v1","icon","sub","list","index","item","isActive","isMatch","pathname","Table","withRouter","config","checked","base","cols","defaultPageNo","pop","tableList","setTableList","_useState3","_useState4","setLoading","_useState5","_useState6","sort","setSort","_useState7","_useState8","setSearch","_useState9","_useState10","page","setPage","_useState11","_useState12","pageNo","setPageNo","_useState13","_useState14","hack","setHack","useEffect","baseUrl","table_objectSpread","pageFix","__pageFix__","querySelector","scrollTop","__colFix__","_config$cols","_config$handles","handles","hasHandle","searchBox","filter","col","query","querySelectorAll","showSort","sortIcon","colSpan","row","content","dangerouslySetInnerHTML","__html","handle","action","open","history","push","confirm","Popup","onClickHandle","total","pageSize","es","pn","showTotal","all","defaultCurrent","prevIcon","nextIcon","Charts","chartElementRefs","useRef","chartInstanceRefs","updateChart","useCallback","instance","option","text","textStyle","color","fontSize","tooltip","trigger","axisPointer","toolbox","feature","tool","restore","legend","series","_ref2","xAxis","yAxis","_ref3","position","itemStyle","setOption","timer","current","echarts","init","refresh","setInterval","keys","clearTimeout","clearInterval","desc","chart","grid","ref","Button","extClass","classList","schema_editor","onUpdate","formSchema","setFormSchema","aceRef","choiceRef","useLayoutEffect","Choices","destroy","id","evt","target","minimum","maximum","step","enum","enum_titles","wysiwyg","min","max","ace_code_AceCode","onReady","textAlign","marginLeft","getValue","SchemaForm","startval","_ref$show","_ref$editable","editable","onSchemaUpdate","formRef","aceEditor","editPathRef","schemaShow","setSchemaShow","editSchema","setEditSchema","editor","initEditor","display","_target$dataset","dataset","schematype","schemapath","button_Button","AceCode","_ref$code","_ref$type","codeRef","edit","setTheme","resize","setting","minLength","inputAttributes","default","uploadFn","createForm","origin","shop","price","cate","time","state","imgs","createTable","minItems","collapsed","uniqueItems","input_width","choices_options","searchEnabled","createChart","headerTemplate","BASEURL","SETTING","FORM","TABLE","CHART","Setting","configRef","node","wrap_Wrap","_editor","validates","validate","message","updateSetting","FormHelp","TableHelp","ChartHelp","GeneralDesc","GuideHome","FormCreate","setStep","form","setForm","extShow","setExtShow","previewRef","extRef","form_SchemaForm","Fragment","configEditor","_configEditor$getValu","process","_configRef$current$ge","ext","FormList","host","apiPrefix","FormEdit","formData","setFormData","handleChange","defineProperty","_res$data","marginTop","background","edit_objectSpread","goBack","FormUse","setState","script","_res$data$state","_execJs","_execJs2","onDataReady","__editor__","remove","do","originUrl","use_objectSpread","TableEdit","isEdit","formEditor","extEditor","_data$base","postData","TableList","TableUse","setConfig","ChartEdit","chartEditor","ChartList","ChartUse","charts_Charts","ReactDOM","render","setSetting","showNav","showAside","_res$data$name","Provider","basename","aside_Aside","nav_Nav","react_router","exact","setting_Setting","component","getElementById"],"mappings":"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","file":"static/js/main.bf636a01.chunk.js","sourcesContent":["import React from 'react';\n\nexport const SettingContext = React.createContext({});\n","const dict = {\n  '(name)': '名称',\n  '(desc)': '描述',\n  '(cate)': '分类',\n  '(shop)': '商家',\n  '(show)': '显示',\n  '(price|sale)': '价格',\n  '(url|link)': '链接',\n  '(product)': '商品',\n  '(hot)': '热度',\n  '(order)': '排序',\n  '(image|img|pic)': '图片',\n  '(state|status)': '状态',\n  '(start)': '开始时间',\n  '(end)': '结束时间',\n  '(time|datetime)': '时间',\n  '(date)': '日期',\n  '(range)': '范围',\n  '(focus)': '焦点图',\n  '(comment)': '评论',\n  '(num)': '数量',\n  '(color)': '颜色',\n  '(game)': '游戏',\n  '(pay|buy)': '支付',\n  '(amt|amount)': '金额',\n  '(detail)': '详情',\n  '(click)': '点击',\n  '(rank)': '排行',\n};\nconst getTitle = key => {\n  for (var rule in dict) {\n    if (new RegExp(rule, 'i').test(key)) {\n      return dict[rule];\n    }\n  }\n  return key;\n};\nconst getType = function(data) {\n  if (typeof data == 'object') {\n    return toString.call(data) === '[object Array]' ? 'array' : 'object';\n  } else {\n    return typeof data;\n  }\n};\nconst dataHandle = {\n  number: key => ({\n    type: 'number',\n    format: 'number',\n    title: getTitle(key),\n    options: {\n      grid_columns: 3,\n    },\n  }),\n  boolean: key => ({\n    type: 'boolean',\n    title: getTitle(key),\n    options: {\n      grid_columns: 3,\n    },\n  }),\n  string: function(key, data) {\n    const schema = {};\n    schema.type = 'string';\n    schema.title = getTitle(key);\n    schema.format = 'text';\n    schema.options = {\n      grid_columns: 3,\n    };\n\n    switch (true) {\n      case /\\.(jpe?g|png|gif)$/.test(data):\n        schema.format = 'upload';\n        schema.links = [\n          {\n            rel: '',\n            href: '{{self}}',\n            mediaType: 'image',\n          },\n        ];\n        break;\n\n      case /\\.(exe|swf|zip|rar|docx?|pptx?|xlsx?)$/.test(data):\n        schema.format = 'upload';\n        schema.download = true;\n        break;\n\n      case /\\.mp4$/.test(data):\n        schema.format = 'upload';\n        schema.links = [\n          {\n            rel: '',\n            href: '{{self}}',\n            mediaType: 'video/mp4',\n          },\n        ];\n        break;\n\n      case /^[12]\\d{3}-\\d{2}-\\d{2} [\\d:]{8}$/.test(data):\n        schema.format = 'datetime-local';\n        schema.options.flatpickr = {\n          wrap: true,\n          showClearButton: true,\n          time_24hr: true,\n          allowInput: false,\n        };\n        break;\n\n      default:\n        schema.format = 'text';\n        break;\n    }\n    return schema;\n  },\n  object: function(key, data, opts = {}) {\n    const schema = {};\n    schema.title = getTitle(key);\n    schema.type = 'object';\n    schema.format = 'grid';\n    schema.properties = {};\n    schema.options = opts;\n    for (var k in data) {\n      schema.properties[k] = dataHandle[getType(data[k])](k, data[k]);\n    }\n    return schema;\n  },\n  array: function(key, data, opts = {}) {\n    const schema = {};\n    schema.type = 'array';\n    schema.title = getTitle(key);\n    schema.items = {};\n    schema.options = opts;\n    if (data[0] !== undefined) {\n      schema.items = dataHandle[getType(data[0])](key, data[0]);\n    }\n    return schema;\n  },\n};\n\nexport default (json, name = '表单标题') => {\n  try {\n    const data = typeof json == 'string' ? JSON.parse(json) : json;\n    return dataHandle[getType(data)](name, data, { disable_collapse: true });\n  } catch (err) {\n    console.warn(err);\n    return {\n      title: '数据解析出错，请返回重试',\n      properties: {},\n    };\n  }\n};\n","const JSONEditor = window.JSONEditor;\n\nconst getUploadBtn = () => {\n  const btn = document.createElement('button');\n  btn.type = 'button';\n  btn.className = 'btn btn-light';\n  btn.innerHTML = [\n    '<input type=\"file\" style=\"position:absolute;opacity:0;left:0;top:0;bottom:0;width:40px\" />',\n    '<i class=\"fas fa-cloud-upload-alt\"></i>',\n  ].join('');\n\n  return btn;\n};\nconst getProgress = () => {\n  const progress = document.createElement('div');\n  progress.style = [\n    'transition: all .5s;position:absolute;left:0;bottom:0px;z-index:9;',\n    'height:2px;background:#007bff;border-radius:1px;width:0',\n  ].join('');\n  return progress;\n};\n\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if (schema.type === 'string' && schema.format === 'upload') {\n    return 'uploadFile';\n  }\n});\n\nJSONEditor.defaults.editors.uploadFile = JSONEditor.AbstractEditor.extend({\n  build: function() {\n    const self = this;\n    const btn = getUploadBtn();\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n\n    this.input = this.theme.getFormInputField('text');\n    this.inputGroup = this.theme.getInputGroup(this.input, [btn]);\n\n    // 进度条\n    this.progress = getProgress();\n    this.inputGroup.insertBefore(this.progress, btn.parentNode);\n\n    this.control = this.theme.getFormControl(this.label, this.inputGroup, this.description, this.infoButton);\n    this.container.appendChild(this.control);\n    this.input.value = this.value;\n\n    this.input.addEventListener('change', function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      self.is_dirty = true;\n      self.refreshValue();\n      self.onChange(true);\n    });\n\n    btn.firstChild.addEventListener('change', function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if (this.files && this.files.length) {\n        self.uploadFile(this.files[0]);\n      }\n    });\n\n    // style fix\n    btn.parentNode.className = 'input-group-append';\n    this.input.parentNode.style.marginBottom = '10px';\n  },\n  uploadFile: function(file) {\n    const uploader = window.formUploader || window.fileUploader;\n    if (uploader) {\n      const self = this;\n      const { path } = self;\n      uploader(file, path, {\n        progress: function(percent) {\n          self.progress.style.opacity = '1';\n          self.progress.style.width = `${percent}%`;\n        },\n        success: function(url) {\n          self.progress.style.width = '100%';\n          self.progress.style.opacity = '0';\n          setTimeout(() => {\n            self.progress.style.width = '0';\n          }, 600);\n          self.setValue(url);\n        },\n        fail: function(msg) {\n          self.progress.style.width = '0';\n          alert(msg);\n        },\n      });\n    }\n  },\n  setValue: function(val) {\n    if (this.value !== val) {\n      this.value = val;\n      this.input.value = this.value;\n      this.onChange();\n    }\n  },\n  refreshValue: function() {\n    this.value = this.input.value;\n    if (typeof this.value !== 'string') this.value = '';\n    this.serialized = this.value;\n  },\n  sanitize: function(value) {\n    return value;\n  },\n});\n\nexport default (el, schema = {}, opts = {}) => {\n  if (JSONEditor && el) {\n    JSONEditor.defaults.theme = 'bootstrap4';\n    JSONEditor.defaults.options.iconlib = 'fontawesome5';\n    JSONEditor.plugins.ace.theme = 'monokai';\n\n    // config choices\n    JSONEditor.plugins.choices = {\n      shouldSort: false,\n    };\n\n    // config sceditor\n    JSONEditor.plugins.sceditor.style = process.env.PUBLIC_URL + '/lib/sceditor/content.min.css';\n    JSONEditor.plugins.sceditor.plugins = 'dragdrop';\n    JSONEditor.plugins.sceditor.emoticonsEnabled = false;\n    JSONEditor.plugins.sceditor.icons = 'monocons';\n    JSONEditor.plugins.sceditor.height = 400;\n\n    // 富文本编辑器默认工具栏\n    JSONEditor.plugins.sceditor.toolbar = [\n      'bold,italic,underline',\n      'font,size,color,removeformat',\n      'left,center,right,justify',\n      'bulletlist,orderedlist,table,code,quote',\n      'image,link,unlink',\n      'maximize,source',\n    ].join('|');\n\n    // 富文本编辑器拖动上传\n    JSONEditor.plugins.sceditor.dragdrop = {\n      allowedTypes: ['image/jpeg', 'image/png', 'image/gif'],\n      handleFile: (file, createPlaceholder) => {\n        // https://www.sceditor.com/documentation/plugins/dragdrop/\n        const uploader = window.formUploader || window.fileUploader;\n        if (uploader) {\n          const placeholder = createPlaceholder();\n          uploader(file, 'wysiwyg', {\n            success: function(url) {\n              placeholder.insert(`<img src=\"${url}\" />`);\n            },\n            progress: function(percent) {\n              console.log(percent);\n            },\n            fail: function(msg) {\n              placeholder.cancel();\n              alert(msg);\n            },\n          });\n        }\n      },\n    };\n\n    return (window._JsonEditor_ = new JSONEditor(el, {\n      disable_edit_json: true,\n      disable_properties: true,\n      ...opts,\n      schema,\n    }));\n  } else {\n    return null;\n  }\n};\n","const renderIframe = (url, width, height) => `\n<div class=\"popup-main\" style=\"width:${width}px;height:${height}px\">\n  <div class=\"popup-hide\" onClick=\"window.popupHide()\" title=\"关闭\"><i class=\"fas fa-times\"></i></div>\n  <iframe src=\"${url}\" frameborder=\"0\" style=\"width:100%;height:100%;border:none\"></iframe>\n</div>\n`;\nconst renderHtml = (html, width, height) => `\n<div class=\"popup-main\" style=\"width:${width}px;height:${height}px\">\n<div class=\"popup-hide\" onClick=\"window.popupHide()\" title=\"关闭\"><i class=\"fas fa-times\"></i></div>\n  <div class=\"popup-box\">${html}</div>\n</div>\n`;\nconst container = document.createElement('div');\ncontainer.className = 'popup-mask';\n\nconst show = (window.popupShow = (src, width = 750, height = 500) => {\n  if (!src) return alert('缺少必要参数');\n  const isIframe = /^http/.test(src);\n  container.innerHTML = isIframe ? renderIframe(src, width, height) : renderHtml(src, width, height);\n  document.body.appendChild(container);\n});\n\nconst hide = (window.popupHide = () => {\n  document.body.removeChild(container);\n});\n\nexport default { show, hide };\n","import _axios from 'axios';\nimport qs from 'qs';\nexport { default as json2schema } from './json2schema';\nexport { default as initEditor } from './initeditor';\n\nexport const loadJs = url => {\n  return new Promise(resolve => {\n    const script = document.createElement('script');\n    script.src = url;\n    document.head.appendChild(script);\n\n    if (document.addEventListener) {\n      script.addEventListener('load', resolve);\n    } else {\n      script.onreadystatechange = () => {\n        if (/loaded|complete/.test(script.readyState)) {\n          script.onreadystatechange = null;\n          resolve();\n        }\n      };\n    }\n  });\n};\n\nexport const kv = key => {\n  let params = window.location.search;\n  if (params.length) {\n    return (params.match(new RegExp('[?&]' + key + '=([^&]+)')) || ['']).pop();\n  } else {\n    return '';\n  }\n};\n\nexport const parseUrl = url => {\n  const map = {};\n  if (!url) {\n    url = window.location.search;\n  }\n  if (url.length < 2) {\n    return null;\n  }\n  url\n    .replace(/^\\?/, '')\n    .split('&')\n    .forEach(kv => {\n      const arr = kv.split('=');\n      map[arr[0]] = arr[1];\n    });\n\n  return map;\n};\n\nexport const axios = (method = 'GET', api, params = {}) => {\n  method = method.toUpperCase() === 'GET' ? 'get' : 'post';\n  if (method === 'post') {\n    params = qs.stringify(params);\n  } else {\n    params = {\n      params: params,\n    };\n  }\n  return new Promise((resolve, reject) => {\n    _axios[method](api, params)\n      .then(res => {\n        const data = res.data;\n        if (data.code === 0) {\n          resolve(data);\n        } else {\n          reject(data);\n        }\n      })\n      .catch(res => {\n        reject({\n          code: -1,\n          msg: String(res),\n          data: null,\n        });\n      });\n  });\n};\n\nexport const toast = msg => {\n  const box = document.createElement('div');\n  box.className = 'lego-toast';\n  box.innerHTML = msg;\n  document.body.appendChild(box);\n\n  setTimeout(() => {\n    document.body.removeChild(box);\n  }, 3e3);\n};\n\nexport const execJs = jsCode => {\n  const s = document.createElement('script');\n  const fn = 'ext_' + Date.now().toString(16);\n\n  s.innerHTML = `window.${fn} = (function () {\n    try {\n      ${jsCode}\n    } catch (err) { console.warn('ExtJs Error -', err) }\n  })()`;\n\n  document.body.appendChild(s);\n\n  return [fn, s];\n};\n\n// 构建带有模板变量的URL\nexport const buildUrl = (url, params) => {\n  let data = parseUrl() || {};\n  if (params) {\n    data = Object.assign(data, params);\n  }\n  return url.replace(/\\{\\{[^}]+\\}\\}/g, find => {\n    const key = find.slice(2, -2);\n    return `${data[key] || ''}`;\n  });\n};\n\n/**\n * 根据path查找object中的值\n * @param {object} object\n * @param {string} path 如 data.list..name，「..」用map取得相应数据并返回\n */\nexport const findByPath = (object, path) => {\n  // 容错\n  if (!object || path.length === 0) return undefined;\n\n  // 查找相应属性\n  path = path.indexOf('.') === 0 ? path : `.${path}`;\n  let obj = Object.assign({}, object);\n  let splits = path.match(/\\.{1,2}[^.]+/g);\n\n  for (let i = 0; i < splits.length; i++) {\n    let v = splits[i];\n    let k = v.replace(/\\./g, '');\n\n    if (v.indexOf('..') === 0) {\n      if (Array.isArray(obj)) {\n        obj = obj.map(o => o[k]);\n      } else {\n        return undefined;\n      }\n    } else {\n      if (obj && obj.hasOwnProperty(k)) {\n        obj = obj[k];\n      } else {\n        return undefined;\n      }\n    }\n  }\n  return obj;\n};\n\n// 根据path查找schema对应节点\nexport const findSchemaByPath = (schema, path) => {\n  if (path === 'root') return schema;\n\n  let tmp = Object.assign({}, schema);\n  let props = path.split('.').slice(1);\n\n  for (let i = 0, len = props.length; i < len; i++) {\n    if (tmp.type === 'object') {\n      tmp = tmp['properties'][props[i]];\n    } else if (tmp.type === 'array') {\n      tmp = tmp['items'];\n    }\n  }\n\n  return tmp;\n};\n\n// 根据path更新schema对应节点\nexport const updateSchemaByPath = (schema, path, data) => {\n  if (path === 'root') return data;\n  let props = path.split('.').slice(1);\n\n  for (var i = 0, len = props.length - 1; i < len; i++) {\n    if (schema.type === 'object') {\n      schema = schema['properties'][props[i]];\n    } else if (schema.type === 'array') {\n      schema = schema['items'];\n    }\n  }\n\n  schema['properties'][props[i]] = data;\n};\n\nexport const isInFrame = window.self !== window.top;\n\nexport { default as Popup } from './popup';\n","import React, { useContext } from 'react';\nimport { SettingContext } from '../../config/context';\nimport { isInFrame } from '../../common/utils';\n\nexport const Wrap = ({ children, title = '', loading = false }) => {\n  const { mode } = useContext(SettingContext);\n\n  return (\n    <div className='wrap'>\n      {title.length > 0 && <div className='sitepath'>{title}</div>}\n      <div\n        className={'main-content' + (mode === 'standalone' && !isInFrame ? '' : ' main-content-embedded')}\n        style={{ padding: isInFrame ? 0 : null }}>\n        {loading ? <div className='lego-card'>loading...</div> : children}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Nav = ({ mode }) => (\n  <nav className={'frame-nav' + (mode === 'standalone' ? '' : ' frame-nav-fixed')}>\n    <div className='nav-right'>\n      <div className='nav-item'>\n        <Link to='/setting'>\n          <i className='fas fa-cog' />\n          <span>系统设置</span>\n        </Link>\n      </div>\n      <div className='nav-item'>\n        <Link to='/chart/list'>\n          <i className='fas fa-chart-line' />\n          <span>图表管理</span>\n        </Link>\n      </div>\n      <div className='nav-item'>\n        <Link to='/table/list'>\n          <i className='fas fa-table' />\n          <span>列表管理</span>\n        </Link>\n      </div>\n      <div className='nav-item'>\n        <Link to='/form/list'>\n          <i className='fas fa-th-list' />\n          <span>表单管理</span>\n        </Link>\n      </div>\n    </div>\n  </nav>\n);\n","import React, { useState, useContext } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport { SettingContext } from '../../config/context';\n\nexport const Aside = () => {\n  const context = useContext(SettingContext);\n  const [openIdx, setOpenIdx] = useState(null);\n  const parseMenu = () => {\n    try {\n      return JSON.parse(context.sideMenu);\n    } catch (e) {\n      return [];\n    }\n  };\n\n  const icons = [\n    'edit',\n    'laptop',\n    'gem',\n    'th-list',\n    'newspaper',\n    'map',\n    'network-wired',\n    'desktop',\n    'list',\n    'parachute-box',\n    'microsoft',\n    'paper-plane',\n    'cube',\n  ];\n\n  const renderSub = (list, index) => (\n    <ul className='sub-list' style={{ height: (openIdx === index ? list.length * 40 : 0) + 'px' }}>\n      {list.map((item, idx) => (\n        <li className='item-v2' key={idx}>\n          <NavLink\n            activeClassName='active'\n            to={item.url || ''}\n            isActive={(match, location) => {\n              let isMatch = !!match;\n              if (!isMatch) {\n                if (item.url && location.pathname !== '/') {\n                  isMatch = item.url === location.pathname + location.search;\n                }\n              }\n              // 展开相应子菜单\n              if (isMatch && openIdx === null) {\n                setOpenIdx(index);\n              }\n              return isMatch;\n            }}>\n            {item.name}\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n\n  const FixedLink = props => {\n    const { idx } = props;\n    if (props.to) {\n      return (\n        <NavLink\n          className='link'\n          activeClassName='active'\n          to={props.to}\n          onClick={() => setOpenIdx(openIdx === idx ? null : idx)}>\n          {props.children}\n        </NavLink>\n      );\n    } else {\n      return (\n        <div\n          className={'link' + (openIdx === idx ? ' active' : '')}\n          onClick={() => setOpenIdx(openIdx === idx ? null : idx)}>\n          {props.children}\n        </div>\n      );\n    }\n  };\n\n  return (\n    <aside className='frame-aside'>\n      <h1 className={!!context.name ? 'name-show' : ''}>\n        <Link to='/'>\n          <i className='fas fa-cubes' />\n          <span>{context.name || ''}</span>\n        </Link>\n      </h1>\n      <ul className='side-menu'>\n        {parseMenu().map((v1, idx) => (\n          <li className='item-v1' key={idx}>\n            <FixedLink idx={idx} to={v1.url}>\n              <i className={'icon fas fa-' + (v1.icon || icons[idx])} />\n              <span>{v1.name}</span>\n              <i className='arr fas fa-chevron-down' />\n            </FixedLink>\n            {v1.sub && renderSub(v1.sub, idx)}\n          </li>\n        ))}\n      </ul>\n    </aside>\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Pagination from 'rc-pagination';\nimport { SettingContext } from '../../config/context';\nimport { axios, toast, buildUrl, findByPath, Popup } from '../../common/utils';\n\nimport 'rc-pagination/assets/index.css';\nimport './index.scss';\n\nconst icons = ['file-alt', 'podcast', 'paper-plane', 'database', 'columns', 'cube'];\n\nconst _Table = props => {\n  const { config } = props;\n  const checked = config && config.base && config.cols;\n  const context = useContext(SettingContext);\n  const defaultPageNo = (window.location.search.match(/pageNo=(\\d+)/) || []).pop() || 1;\n  const [tableList, setTableList] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [sort, setSort] = useState(''); // key-ase, key-desc\n  const [search, setSearch] = useState({});\n  const [page, setPage] = useState(null);\n  const [pageNo, setPageNo] = useState(defaultPageNo);\n  const [hack, setHack] = useState(true);\n\n  // 初始化数据\n  useEffect(() => {\n    if (checked && context.baseUrl !== void 0) {\n      const api = (/^(http|\\/\\/)/.test(config.base.api) ? '' : context.baseUrl) + config.base.api;\n      axios('GET', buildUrl(api, { sort, ...search, pageNo }))\n        .then(res => {\n          setLoading(false);\n          setTableList(findByPath(res, config.base.path) || []);\n\n          // 分页数据\n          const pageFix = window.__pageFix__ || function() {};\n          setPage(pageFix(res.data) || res.data.page);\n\n          // 滚动置顶\n          document.querySelector('.main-content').scrollTop = 0;\n        })\n        .catch(err => {\n          toast('加载失败');\n          console.log(err);\n        });\n\n      return () => {\n        delete window.__colFix__;\n        delete window.__pageFix__;\n      };\n    }\n  }, [checked, context.baseUrl, config.base, sort, search, pageNo, hack]);\n\n  if (!checked) return <div>data or config error...</div>;\n\n  const { cols = [], handles = [] } = config;\n  const hasHandle = handles.length > 0;\n  const searchBox = cols.filter(col => col.fn.indexOf('search') !== -1);\n\n  function onClickHandle(row, handle) {\n    let url = buildUrl(handle.url, row);\n    url = buildUrl(url, row);\n    switch (handle.action) {\n      case 'open':\n        window.open(url);\n        break;\n\n      case 'link':\n        if (/^http|\\/\\//.test(url)) {\n          window.location.assign(url);\n        } else {\n          props.history.push(url);\n        }\n        break;\n\n      case 'api':\n        url = /^(http|\\/\\/)/.test(url) ? url : context.baseUrl + url;\n        if (window.confirm(`是否${handle.name}${row.name ? ' [' + row.name + '] ' : ''}？`)) {\n          axios('POST', url)\n            .then(res => {\n              toast(`${handle.name}成功`);\n              // 刷新当前数据\n              setTimeout(() => setHack(!hack), 1500);\n              console.log(res);\n            })\n            .catch(err => {\n              toast(`${handle.name}失败\\n${String(err)}`);\n              console.warn(err);\n            });\n        }\n        break;\n\n      case 'popup':\n        Popup.show(url);\n        break;\n\n      default:\n        console.log(handle);\n    }\n  }\n\n  return (\n    <div>\n      {searchBox.length > 0 && (\n        <div className='search-row clearfix'>\n          {searchBox.map(item => (\n            <input\n              key={item.key}\n              name={`search_${item.key}`}\n              className='form-control'\n              placeholder={`输入${item.name}`}\n            />\n          ))}\n          <button\n            onClick={() => {\n              const query = {};\n              document.querySelectorAll('.search-row .form-control').forEach(input => {\n                query[input.name.slice(7)] = input.value;\n              });\n              setSearch(query);\n            }}\n            className='btn btn-sm btn-success'>\n            查询\n          </button>\n        </div>\n      )}\n      <table className='table-list'>\n        <thead className='table-thead'>\n          <tr>\n            {cols.map(col => {\n              let key = col.key;\n              let showSort = false;\n              let sortIcon = 'sort';\n\n              if (/sort/.test(col.fn)) {\n                showSort = true;\n                switch (sort) {\n                  case `${key}-asc`:\n                    sortIcon = 'caret-up';\n                    break;\n\n                  case `${key}-desc`:\n                    sortIcon = 'caret-down';\n                    break;\n\n                  default:\n                    sortIcon = 'sort';\n                }\n              }\n\n              return (\n                <th\n                  className={'table-th' + (showSort ? ' th-sort' : '')}\n                  key={key}\n                  width={col.width ? col.width : undefined}\n                  onClick={() => {\n                    showSort && setSort(sort === `${key}-desc` ? `${key}-asc` : `${key}-desc`);\n                  }}>\n                  <span>{col.name || key}</span>\n                  {showSort && <em title='排序' className={'fas fa-' + sortIcon} />}\n                </th>\n              );\n            })}\n            {hasHandle && <th width={handles.length * 80}>操作</th>}\n          </tr>\n        </thead>\n        <tbody className='table-tbody'>\n          {tableList.length === 0 ? (\n            <tr>\n              <td colSpan={cols.length + (hasHandle ? 1 : 0)}>{loading ? '加载中...' : '暂无数据'}</td>\n            </tr>\n          ) : (\n            tableList.map((row, idx) => (\n              <tr key={idx}>\n                {cols.map(item => {\n                  let content = row[item.key] || '--';\n                  if (typeof window.__colFix__ === 'function') {\n                    content = window.__colFix__(item.key, content, row) || content;\n                  }\n                  return <td key={item.key} dangerouslySetInnerHTML={{ __html: content }} />;\n                })}\n                {hasHandle && (\n                  <td>\n                    {handles.map((handle, i) => (\n                      <span onClick={() => onClickHandle(row, handle)} key={i} className='handle'>\n                        <i className={'fas fa-' + (handle.icon || icons[i])} />\n                        <em>{handle.name}</em>\n                      </span>\n                    ))}\n                  </td>\n                )}\n              </tr>\n            ))\n          )}\n        </tbody>\n      </table>\n      {page && page.total > page.pageSize && (\n        <div className='pages'>\n          <Pagination\n            onChange={pn => setPageNo(pn)}\n            total={page.total || 0}\n            showTotal={all => `共${all}条数据`}\n            pageSize={page.pageSize || 20}\n            defaultCurrent={+pageNo}\n            prevIcon={<i className='fas fa-chevron-left' />}\n            nextIcon={<i className='fas fa-chevron-right' />}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\nexport const Table = withRouter(_Table);\n","import React, { useRef, useContext, useEffect, useCallback } from 'react';\nimport echarts from 'echarts/lib/echarts';\nimport 'echarts/lib/chart/bar';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/chart/pie';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/title';\nimport 'echarts/lib/component/toolbox';\nimport 'echarts/lib/component/legend';\n\nimport './index.scss';\nimport { axios, buildUrl, findByPath } from '../../common/utils';\nimport { SettingContext } from '../../config/context';\n\nexport const Charts = ({ config }) => {\n  const chartElementRefs = useRef([]);\n  const chartInstanceRefs = useRef([]);\n  const context = useContext(SettingContext);\n\n  const updateChart = useCallback((instance, api, data) => {\n    axios('GET', buildUrl(api)).then(res => {\n      const option = {\n        title: {\n          text: data.name,\n          textStyle: { color: '#369', fontSize: 16 },\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: { type: 'cross' },\n        },\n        toolbox: (() => {\n          const feature = {};\n          data.toolbox.forEach(tool => {\n            feature[tool] = {};\n            if (tool === 'magicType') {\n              feature['magicType']['type'] = ['line', 'bar', 'tiled'];\n              feature.restore = {};\n            }\n          });\n          return { feature };\n        })(),\n        legend: {\n          data: data.series.map(({ name }) => name),\n        },\n        xAxis: {\n          data: data.xAxis.indexOf(',') > 0 ? data.xAxis.split(',') : findByPath(res, data.xAxis),\n        },\n        yAxis: {},\n        series: data.series.map(({ name, type, label, path, color }) => {\n          return {\n            name,\n            type,\n            label: { show: label === '1', position: 'top' },\n            itemStyle: { color },\n            data: findByPath(res, path),\n          };\n        }),\n      };\n      instance.setOption(option);\n    });\n  }, []);\n\n  useEffect(() => {\n    const baseUrl = context.baseUrl;\n    if (config && baseUrl !== void 0) {\n      const timer = {};\n      config.list.forEach((data, idx) => {\n        const el = chartElementRefs.current[idx];\n        const instance = (chartInstanceRefs.current[idx] = echarts.init(el, config.theme));\n        const api = (/^(http|\\/\\/)/.test(data.api) ? '' : baseUrl) + data.api;\n\n        // 依次加载各表数据\n        timer[`start_${idx}`] = setTimeout(() => {\n          updateChart(instance, api, data);\n          if (data.refresh > 0) {\n            timer[`refresh_${idx}`] = setInterval(() => {\n              updateChart(instance, api, data);\n            }, data.refresh * 1000);\n          }\n        }, 200 * idx);\n      });\n\n      return () => {\n        // 清除计时器\n        Object.keys(timer).forEach(key => {\n          const cleanup = /^start/.test(key) ? clearTimeout : clearInterval;\n          cleanup(timer[key]);\n        });\n      };\n    }\n  }, [config, context.baseUrl, updateChart]);\n\n  return (\n    <div className='charts-title'>\n      <h2 className='title'>\n        {config.name}\n        <span className='desc'>{config.desc}</span>\n      </h2>\n      <div className='row'>\n        {config.list.map((chart, idx) => {\n          return (\n            <div key={idx} className={`col-md-${chart.grid}`}>\n              <div\n                className='chart-container'\n                style={{ height: chart.height }}\n                ref={el => (chartElementRefs.current[idx] = el)}></div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const Button = ({ value, extClass, onClick }) => {\n  let classList = ['btn', 'btn-sm'];\n\n  if (extClass) {\n    classList = classList.concat(extClass.split(' '));\n  }\n\n  return (\n    <button className={classList.join(' ')} onClick={onClick}>\n      {value}\n    </button>\n  );\n};\n","import React, { useState, useRef, useLayoutEffect } from 'react';\nimport { AceCode } from '..';\n\nexport default ({ schema, onUpdate }) => {\n  const [formSchema, setFormSchema] = useState(schema);\n  const aceRef = useRef(null);\n  const choiceRef = useRef(null);\n\n  useLayoutEffect(() => {\n    choiceRef.current = new window.Choices('#formTypeSelect', {\n      position: 'bottom',\n      shouldSort: false,\n    });\n    return () => {\n      choiceRef.current.destroy();\n    };\n  }, []);\n\n  function onGridChange(evt) {\n    const { value } = evt.target;\n    const tmp = Object.assign({}, formSchema);\n    tmp.options.grid_columns = +value;\n    setFormSchema(tmp);\n  }\n\n  function onTypeChange(evt) {\n    const { value } = evt.target;\n    const tmp = {\n      title: formSchema.title,\n      type: 'string',\n      format: value,\n      options: {\n        grid_columns: formSchema.options.grid_columns,\n      },\n    };\n\n    switch (value) {\n      case 'number':\n        tmp.type = 'number';\n        break;\n\n      case 'boolean':\n        tmp.type = 'boolean';\n        break;\n\n      case 'range':\n        tmp.type = 'number';\n        tmp.minimum = 1;\n        tmp.maximum = 100;\n        tmp.step = 2;\n        break;\n\n      case 'select':\n        tmp.type = 'string';\n        tmp.enum = ['item1', 'item2', 'item3', 'item4'];\n        tmp.options.enum_titles = ['选项1', '选项2', '选项3', '选项4'];\n        break;\n\n      case 'datetime-local':\n        tmp.type = 'string';\n        tmp.options.flatpickr = {\n          wrap: true,\n          showClearButton: true,\n          time_24hr: true,\n          allowInput: false,\n        };\n        break;\n\n      case 'upload':\n        tmp.type = 'string';\n        tmp.links = [\n          {\n            rel: 'view',\n            href: '{{self}}',\n            mediaType: 'image',\n          },\n        ];\n        break;\n\n      case 'html':\n        tmp.type = 'string';\n        tmp.options.wysiwyg = true;\n        break;\n\n      default:\n        tmp.type = 'string';\n    }\n    setFormSchema(tmp);\n  }\n\n  return (\n    <div className='row'>\n      <div className='col-md-6'>\n        <div className='form-group'>\n          <label className='form-control-label'>表单类型</label>\n          <select id='formTypeSelect' className='form-control' value={formSchema.format} onChange={onTypeChange}>\n            <option value='text'>单行文本</option>\n            <option value='textarea'>多行文本</option>\n            <option value='number'>数值</option>\n            <option value='boolean'>布尔值</option>\n            <option value='password'>密码</option>\n            <option value='datetime-local'>时间</option>\n            <option value='upload'>图片</option>\n            <option value='url'>网址</option>\n            <option value='select'>下拉框</option>\n            <option value='range'>滑动条</option>\n            <option value='html'>富文本编辑器</option>\n          </select>\n        </div>\n      </div>\n      <div className='col-md-6'>\n        <div className='form-group'>\n          <label className='form-control-label'>Grid</label>\n          <input\n            className='form-control'\n            type='number'\n            min='3'\n            max='12'\n            onChange={onGridChange}\n            value={formSchema.options.grid_columns}\n          />\n        </div>\n      </div>\n      <div className='col-md-12'>\n        <div className='form-group' style={{ height: 200 }}>\n          <AceCode type='json' code={JSON.stringify(formSchema, null, 2)} onReady={ace => (aceRef.current = ace)} />\n        </div>\n      </div>\n      <div className='col-md-12' style={{ textAlign: 'right' }}>\n        <button\n          className='btn btn-sm btn-outline-primary'\n          onClick={() => window.open('https://github.com/json-editor/json-editor#json-editor')}>\n          帮助\n        </button>\n        <button\n          className='btn btn-sm btn-success'\n          style={{ marginLeft: 10 }}\n          onClick={() => onUpdate(JSON.parse(aceRef.current.getValue()))}>\n          保存\n        </button>\n      </div>\n    </div>\n  );\n};\n","import React, { useLayoutEffect, useState, useRef } from 'react';\nimport { Button, AceCode } from '..';\nimport { initEditor, toast, findSchemaByPath, updateSchemaByPath } from '../../common/utils';\nimport SchemaEditor from './schema-editor';\nimport './index.scss';\n\nexport const SchemaForm = ({ schema, startval, show = true, editable = false, onReady, onSchemaUpdate }) => {\n  const formRef = useRef(null);\n  const aceEditor = useRef(null);\n  const editPathRef = useRef(null);\n  const [schemaShow, setSchemaShow] = useState(false);\n  const [editSchema, setEditSchema] = useState(null);\n\n  useLayoutEffect(() => {\n    if (schema) {\n      const opts = startval ? { startval } : {};\n      const editor = initEditor(formRef.current, schema, opts);\n      if (editor && typeof onReady === 'function') {\n        onReady(editor);\n      }\n      return () => {\n        editor && editor.destroy();\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [JSON.stringify(schema)]);\n\n  function updateSchema() {\n    if (typeof onSchemaUpdate === 'function') {\n      let schema = null;\n      try {\n        schema = JSON.parse(aceEditor.current.getValue());\n      } catch (e) {\n        toast('Schema格式有误，请检查');\n      }\n      schema && onSchemaUpdate(schema);\n    }\n  }\n\n  function onFormEdit(evt) {\n    const { target } = evt;\n    const { schematype, schemapath } = target.dataset;\n    if (editable && schemapath && /string|integer|number|boolean/.test(schematype)) {\n      const formSchema = findSchemaByPath(schema, schemapath);\n      editPathRef.current = schemapath;\n      setEditSchema(formSchema);\n    }\n  }\n\n  function onFormUpdate(formSchema) {\n    updateSchemaByPath(schema, editPathRef.current, formSchema);\n    onSchemaUpdate(schema);\n    setEditSchema(null);\n  }\n\n  if (schema) {\n    return (\n      <div className={'form-view' + (editable ? ' form-edit' : '')}>\n        <div\n          style={{ display: show ? 'block' : 'none' }}\n          ref={formRef}\n          className='schema-form'\n          onClick={onFormEdit}></div>\n        {editable && (\n          <div className={'schema-box' + (schemaShow ? ' schema-show' : '')}>\n            <Button key='update' value='更新至表单' onClick={updateSchema} />\n            <div className='switch-btn' title='编辑schema' onClick={() => setSchemaShow(!schemaShow)}>\n              <i className={'fa fa-angle-' + (schemaShow ? 'right' : 'left')} />\n            </div>\n            <AceCode type='json' code={JSON.stringify(schema, null, 2)} onReady={ace => (aceEditor.current = ace)} />\n          </div>\n        )}\n        {editable && editSchema && (\n          <div className='popup-mask'>\n            <div className='popup-main' style={{ width: 600, height: 350, padding: 15 }}>\n              <div className='popup-hide' title='关闭' onClick={() => setEditSchema(null)}>\n                <i className='fas fa-times'></i>\n              </div>\n              <SchemaEditor schema={editSchema} onUpdate={onFormUpdate} />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n","import React, { useRef, useEffect } from 'react';\n\nexport const AceCode = ({ code = '', type = 'json', onReady }) => {\n  const codeRef = useRef(null);\n  const aceEditor = useRef(null);\n\n  useEffect(() => {\n    const ace = window.ace;\n    if (!aceEditor.current) {\n      aceEditor.current = ace.edit(codeRef.current, { mode: 'ace/mode/' + type });\n      aceEditor.current.setTheme('ace/theme/monokai');\n\n      if (typeof onReady === 'function') {\n        onReady(aceEditor.current);\n      }\n    }\n\n    aceEditor.current.setValue(code, -1);\n    aceEditor.current.resize();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [code, type]);\n\n  return <div style={{ height: '100%' }} ref={codeRef}></div>;\n};\n","// 全局配置\nconst uploadFnDemo = `/**\n * 实现 window.fileUploader\n * \n * file 文件对象\n * path 上传表单在schema中的路径，如 root.info.image\n * cbs 定义回调\n * \n * cbs.progress: 更新进度, int, 值为0-100（success时自动设为100）\n * cbs.fail: 失败回调, string, 值为失败说明\n * cbs.success: 成功回调, string, 值为文件URI\n */\nwindow.fileUploader = function (file, path, cbs) {\n  setTimeout(() => {\n    cbs.progress(30);\n  }, 500);\n\n  setTimeout(() => {\n    cbs.success('//www.sogo.com/web/index/images/logo_440x140.v.4.png');\n  }, 2e3);\n};`;\nconst sideMenu = `[\n  {\n    \"name\": \"一级菜单\",\n    \"url\": \"/v1/link/\",\n    \"icon\": \"gift\"\n  },\n  {\n    \"name\": \"一级菜单\",\n    \"url\": \"/v1/link/\",\n    \"sub\": [\n      {\n        \"name\": \"二级菜单\",\n        \"url\": \"/v2/link/\"\n      }\n    ]\n  }\n]`;\nexport const setting = {\n  title: '全局配置',\n  type: 'object',\n  format: 'grid',\n  properties: {\n    name: {\n      title: '系统名称',\n      type: 'string',\n      minLength: 1,\n      options: {\n        grid_columns: 4,\n      },\n    },\n    baseUrl: {\n      title: '接口前缀',\n      type: 'string',\n      minLength: 1,\n      options: {\n        grid_columns: 4,\n        inputAttributes: {\n          placeholder: '如 https:/domain.com/api/ 或 /api/',\n        },\n      },\n    },\n    mode: {\n      title: '运行模式',\n      type: 'string',\n      minLength: 1,\n      enum: ['standalone', 'embedded'],\n      options: {\n        enum_titles: ['独立模式', '嵌入模式'],\n        grid_columns: 4,\n      },\n    },\n    sideMenu: {\n      title: '左侧菜单配置',\n      type: 'string',\n      format: 'json',\n      default: sideMenu,\n      options: {\n        grid_columns: 12,\n      },\n    },\n    uploadFn: {\n      title: '上传方法实现',\n      type: 'string',\n      format: 'javascript',\n      default: uploadFnDemo,\n      options: {\n        grid_columns: 12,\n      },\n    },\n  },\n};\n","// 创建表单\nconst jsonDemo = {\n  shop: '搜狗自营',\n  name: '搜狗翻译笔',\n  desc: '高清录音 语音转文字 同声传译 录音速记 微型便携',\n  show: true,\n  price: 398,\n  cate: '智能产品',\n  time: '2019-08-01 18:26:42',\n  state: '未开售',\n  imgs: [\n    {\n      name: '翻译宝',\n      desc: '高清录音 语音转文字',\n      color: '蓝色',\n      url: '//mall02.sogoucdn.com/image/2019/03/08/20190308130338_4522.jpg',\n    },\n  ],\n};\nexport const createForm = {\n  title: '创建表单',\n  type: 'object',\n  format: 'grid',\n  options: {\n    disable_collapse: true,\n  },\n  properties: {\n    name: {\n      title: '表单名称',\n      type: 'string',\n      minLength: 1,\n      options: {\n        grid_columns: 3,\n      },\n    },\n    api: {\n      title: '提交API',\n      type: 'string',\n      minLength: 1,\n      options: {\n        grid_columns: 3,\n      },\n    },\n    origin: {\n      title: '数据API',\n      type: 'string',\n      options: {\n        grid_columns: 3,\n      },\n    },\n    desc: {\n      title: '表单备注',\n      type: 'string',\n      options: {\n        grid_columns: 3,\n      },\n    },\n    json: {\n      title: '数据示例',\n      description: '请填写数据示例，系统根据数据结构自动生成schema',\n      type: 'string',\n      format: 'json',\n      default: JSON.stringify(jsonDemo, null, 2),\n      options: {\n        grid_columns: 12,\n      },\n    },\n  },\n};\n","export const createTable = {\n  title: '创建列表',\n  type: 'object',\n  format: 'grid',\n  options: {\n    disable_collapse: true,\n  },\n  properties: {\n    base: {\n      type: 'object',\n      title: '基础配置',\n      format: 'grid',\n      properties: {\n        name: {\n          title: '名称',\n          type: 'string',\n          minLength: 1,\n          options: {\n            grid_columns: 3,\n          },\n        },\n        api: {\n          type: 'string',\n          title: '数据源',\n          options: {\n            grid_columns: 3,\n          },\n        },\n        path: {\n          type: 'string',\n          title: '数据路径',\n          default: 'data.list',\n          options: {\n            grid_columns: 3,\n          },\n        },\n        desc: {\n          title: '备注',\n          type: 'string',\n          options: {\n            grid_columns: 3,\n          },\n        },\n      },\n    },\n    cols: {\n      type: 'array',\n      title: '列表字段',\n      format: 'table',\n      minItems: 1,\n      options: {\n        collapsed: true,\n      },\n      items: {\n        title: '列',\n        type: 'object',\n        properties: {\n          key: {\n            type: 'string',\n          },\n          name: {\n            title: '名称',\n            type: 'string',\n          },\n          width: {\n            title: '列宽（为空时自适应）',\n            type: 'string',\n          },\n          fn: {\n            title: '功能',\n            type: 'array',\n            uniqueItems: true,\n            items: {\n              type: 'string',\n              enum: ['search', 'sort'],\n              options: {\n                enum_titles: ['搜索', '排序'],\n              },\n            },\n          },\n        },\n      },\n    },\n    handles: {\n      title: '数据操作',\n      type: 'array',\n      format: 'table',\n      options: {\n        collapsed: true,\n      },\n      items: {\n        type: 'object',\n        properties: {\n          name: {\n            title: '名称',\n            type: 'string',\n          },\n          icon: {\n            title: '图标（选填）',\n            type: 'string',\n          },\n          url: {\n            title: 'URL',\n            type: 'string',\n          },\n          action: {\n            title: '行为',\n            type: 'string',\n            enum: ['link', 'open', 'popup', 'api'],\n            options: {\n              enum_titles: ['内页打开', '新窗打开', '弹窗浮层', '接口请求'],\n              input_width: '180px',\n              choices_options: {\n                searchEnabled: false,\n              },\n            },\n          },\n        },\n      },\n    },\n  },\n};\n","export const createChart = {\n  title: '创建图表',\n  type: 'object',\n  format: 'grid',\n  options: {\n    disable_collapse: true,\n  },\n  properties: {\n    name: {\n      title: '名称',\n      type: 'string',\n      minLength: 1,\n      options: {\n        grid_columns: 3,\n      },\n    },\n    theme: {\n      title: '配色',\n      type: 'string',\n      format: 'choices',\n      enum: ['default', 'light', 'dart'],\n      options: {\n        grid_columns: 3,\n        choices_options: {\n          searchEnabled: false,\n        },\n      },\n    },\n    desc: {\n      title: '备注',\n      type: 'string',\n      options: {\n        grid_columns: 6,\n      },\n    },\n    list: {\n      title: '图表集',\n      type: 'array',\n      format: 'tabs-top',\n      minItems: 1,\n      options: {\n        disable_collapse: true,\n      },\n      items: {\n        title: '图表',\n        type: 'object',\n        format: 'grid',\n        headerTemplate: '{{self.name}}',\n        properties: {\n          name: {\n            type: 'string',\n            title: '名称',\n            options: {\n              grid_columns: 3,\n            },\n          },\n          api: {\n            type: 'string',\n            title: '数据源',\n            options: {\n              grid_columns: 3,\n            },\n          },\n          xAxis: {\n            type: 'string',\n            title: '横坐标',\n            options: {\n              inputAttributes: {\n                placeholder: '填写path取值或用逗号分隔',\n              },\n              grid_columns: 3,\n            },\n          },\n          refresh: {\n            type: 'number',\n            title: '定时刷新(秒)',\n            enum: [0, 5, 15, 30, 60],\n            options: {\n              grid_columns: 3,\n              choices_options: {\n                searchEnabled: false,\n              },\n            },\n          },\n          grid: {\n            type: 'number',\n            format: 'number',\n            title: 'Grid',\n            default: 6,\n            options: {\n              grid_columns: 3,\n            },\n          },\n          height: {\n            type: 'number',\n            format: 'number',\n            title: '高度',\n            default: 350,\n            options: {\n              grid_columns: 3,\n            },\n          },\n          toolbox: {\n            title: '工具栏',\n            type: 'array',\n            uniqueItems: true,\n            items: {\n              type: 'string',\n              enum: ['saveAsImage', 'dataZoom', 'magicType'],\n            },\n            options: {\n              grid_columns: 6,\n            },\n          },\n          series: {\n            type: 'array',\n            format: 'table',\n            title: '系列',\n            minItems: 1,\n            options: {\n              disable_collapse: true,\n            },\n            items: {\n              type: 'object',\n              properties: {\n                name: {\n                  type: 'string',\n                  title: '名称',\n                  options: {\n                    input_width: '150px',\n                  },\n                },\n                path: {\n                  type: 'string',\n                  title: '路径',\n                  options: {\n                    inputAttributes: {\n                      placeholder: '如 data.series.pv',\n                    },\n                  },\n                },\n                type: {\n                  type: 'string',\n                  title: '类型',\n                  enum: ['line', 'bar', 'pie'],\n                  options: {\n                    enum_titles: ['折线图', '柱状图', '饼状图'],\n                    input_width: '160px',\n                    choices_options: {\n                      searchEnabled: false,\n                    },\n                  },\n                },\n                color: {\n                  type: 'string',\n                  title: '颜色（可选）',\n                  options: {\n                    input_width: '150px',\n                    inputAttributes: {\n                      placeholder: '如 #d48265',\n                    },\n                  },\n                },\n                label: {\n                  type: 'string',\n                  title: '显示数值',\n                  enum: ['1', '0'],\n                  options: {\n                    enum_titles: ['显示', '隐藏'],\n                    input_width: '150px',\n                  },\n                },\n              },\n            },\n          },\n        },\n      },\n    },\n  },\n};\n","export const BASEURL = (process.env.NODE_ENV === 'production' ? '/' : 'http://localhost:8081/') + '_lego_api_';\nexport const SETTING = BASEURL + '/setting';\nexport const FORM = BASEURL + '/form';\nexport const TABLE = BASEURL + '/table';\nexport const CHART = BASEURL + '/chart';\nexport const PREPATH = process.env.REACT_APP_PRE;\n","import React, { useCallback, useEffect, useContext } from 'react';\nimport { Wrap } from '../../components';\nimport { initEditor, axios, toast } from '../../common/utils';\nimport { SettingContext } from '../../config/context';\nimport { setting } from '../../config/schema';\nimport { SETTING } from '../../config/apis';\n\nexport const Setting = props => {\n  const configRef = useCallback(node => {\n    configRef.current = initEditor(node, setting, {\n      disable_collapse: true,\n    });\n  }, []);\n\n  const context = useContext(SettingContext);\n\n  useEffect(() => {\n    if (context.name && context.baseUrl) {\n      configRef.current.setValue(context);\n    }\n  }, [context, configRef]);\n\n  function doSave() {\n    const _editor = configRef.current;\n    const validates = _editor.validate();\n\n    if (validates.length > 0) {\n      toast(`表单填写有误：<br />${validates.map(err => err.path + ': ' + err.message).join('<br />')}`);\n    } else {\n      const value = _editor.getValue();\n      axios('POST', SETTING, value)\n        .then(() => {\n          toast('保存成功');\n          props.updateSetting(value);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  }\n\n  return (\n    <Wrap>\n      <div className='lego-card'>\n        <div ref={configRef} />\n        <div className='btns-row'>\n          <button onClick={doSave} type='button' className='btn btn-success btn-sm'>\n            保存\n          </button>\n        </div>\n      </div>\n    </Wrap>\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Wrap } from '../../components';\n\nexport const FormHelp = () => (\n  <Wrap>\n    <div className='guide-help'>\n      <div className='guide-node'>\n        <h2 className='help-title help-title-main'>\n          <span>创建表单</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            以JSON数据为模型，自动生成表单，并提供高度扩展和定制。为使表单拥有更好的体验和丰富的功能，需编写少量代码，下面详细介绍如何使用。\n          </p>\n        </div>\n      </div>\n\n      <div className='guide-node' id='step-1'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#step-1'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>第一步：构造数据结构，填写表单基本信息</span>\n        </h2>\n        <div className='help-content'>\n          <p>后台开发人员首先要明确表单的内容、功能和数据结构，自行构造出JSON数据</p>\n          <ul>\n            <li>\n              <label>表单名称</label>\n              <p>表单的名称，比如编辑商品、游戏配置等</p>\n            </li>\n            <li>\n              <label>提交API</label>\n              <p>\n                表单以<code>POST</code>\n                方式提交到此API（支持<Link to='/help/general#url-variable'>URL变量</Link>\n                ），支持完整路径和相对路径，填写相对路径时会自动拼接系统设置里的「接口前缀」\n              </p>\n            </li>\n            <li>\n              <label>数据API</label>\n              <p>\n                编辑表单时回填数据的API（支持<Link to='/help/general#url-variable'>URL变量</Link>\n                ），数据结构必须与表单相匹配，否则会发生不可预期的错误。\n              </p>\n            </li>\n            <li>\n              <label>数据示例</label>\n              <p>\n                数据示例是生成表单的<b>核心</b>\n                ，请自行设计JSON数据结构和内容，尽量使用真实值，系统会根据类型生成相应的表单（如日期、文件上传等），亦可在后续步骤中完善。\n              </p>\n            </li>\n            <li>\n              <label>表单备注</label>\n              <p>表单备注信息，可记录表单用途、注意事项等，方便后期查阅</p>\n            </li>\n          </ul>\n          <blockquote>填写以上内容后，点击页面底部「下一步」，预览生成的表单并进行完善。</blockquote>\n        </div>\n      </div>\n      <div className='guide-node' id='step-2'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#step-2'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>第二步：预览、完善和保存表单</span>\n        </h2>\n        <div className='help-content'>\n          <ul>\n            <li>\n              <label>预览</label>\n              <p>系统根据用户提供的数据示例自动生成表单，如果此时表单符合你的需求，可跳过下面步骤，直接保存。</p>\n            </li>\n            <li>\n              <label>完善和扩展</label>\n              <p>当表单不符合需求时，通过两方面进行完善：</p>\n              <ul>\n                <li>\n                  1. 通过「<Link to='/help/general#json-schema'>JSON-Schema</Link>\n                  」，点击表单右上角蓝色箭头查看和编辑生成的JSON-Schema，参考\n                  <a target='_blank' rel='noopener noreferrer' href='https://github.com/json-editor/json-editor'>\n                    JSON-Editor文档\n                  </a>\n                  进行编辑， 完成后点击「更新至表单」进行预览。\n                </li>\n                <li>\n                  2. 通过「表单扩展」，编写JavaScript进行扩展。\n                  <br />\n                  2.1 <code>window.__editor__</code>可获取编辑器实例，参考\n                  <a target='_blank' rel='noopener noreferrer' href='https://github.com/json-editor/json-editor'>\n                    JSON-Editor文档\n                  </a>\n                  对表单进行扩展。\n                  <br />\n                  2.2 声明<code>window.onDataReady</code>监听数据回填\n                  ，此方法在数据回填完成时执行，并将回填数据作为参数传入。\n                  <br />\n                  2.3 声明<code>window.formUploader</code>可定制当前表单上传方法，参数同<code>window.fileUploader</code>\n                  （见<Link to='/help/general#file-upload'>文件上传</Link>）\n                </li>\n              </ul>\n              <p></p>\n              <blockquote>\n                常见问题和使用技巧见<a href='#supplement'>附录</a>\n              </blockquote>\n            </li>\n            <li>\n              <label>测试和保存</label>\n              <p>\n                完善表单后，需进行试用和测试。点击「console.log」在浏览器打印表单数据，核对无误后点击「保存」完成创建。\n              </p>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div className='guide-node' id='supplement'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#supplement'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>附：</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            <b>1. 如何进入表单编辑模式？</b>\n            <br />\n            只要在表单URL上追加参数<code>do=edit</code>即可，例如 <code>http://lego.com/htm/form/use/1?do=edit</code>\n            ，编辑模式下系统会请求<b>数据API</b>进行数据回填。\n          </p>\n        </div>\n      </div>\n    </div>\n  </Wrap>\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Wrap } from '../../components';\n\nexport const TableHelp = () => (\n  <Wrap>\n    <div className='guide-help'>\n      <div className='guide-node'>\n        <h2 className='help-title help-title-main'>\n          <span>创建列表</span>\n        </h2>\n        <div className='help-content'>\n          <p>根据后端提供的API生成支持分页、搜索、排序的数据列表。</p>\n        </div>\n      </div>\n      <div className='guide-node' id='base'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#base'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>基础配置</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            填写列表基本信息，<code>数据源</code>指数据来源API（支持\n            <Link to='/help/general#url-variable'>URL变量</Link>\n            ），<code>数据路径</code>根据后端返回的JSON数据结构填写，以此定位列表数据。\n          </p>\n        </div>\n      </div>\n      <div className='guide-node' id='field'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#field'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>列表字段</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            用来定义各列数据，点击<code>+列</code>添加一列，填写API中对应的<code>key</code>\n            ，系统据此读取数据，如果后端支持搜索或排序，开发者可按需勾选相应功能。\n          </p>\n          <blockquote>\n            搜索时，系统会在数据接口添加<code>{'{key}={搜索value}'}</code>\n            参数；排序时，系统会在数据接口添加<code>{'sort={key}-{asc|desc}'}</code>参数（仅支持单列排序）\n          </blockquote>\n        </div>\n      </div>\n      <div className='guide-node' id='handle'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#handle'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>数据操作</span>\n        </h2>\n        <div className='help-content'>\n          添加数据操作如编辑、删除等，支持新窗打开或接口请求，可配置\n          <Link to='/help/general#icon-font'>IconFont</Link>\n          ，支持\n          <Link to='/help/general#url-variable'>URL变量</Link>\n          ，变量数据从行数据和页面URL参数中读取，行数据优先级更高。\n        </div>\n      </div>\n      <div className='guide-node' id='extend'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#extend'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>列表扩展</span>\n        </h2>\n        <div className='help-content'>\n          <p>当配置无法满足需求时，通过JavaScript进行扩展。</p>\n          <p>\n            1. 修正列数据：声明<code>window.__colFix__</code>\n            对数据进行修正。\n            <br />\n            例如某列数据<code>{`{\"price\": 1500, \"img\": \"http://xx.com/img/123.jpg\"}`}</code>\n            ，price单位为分，预展示以元为单位的价格并显示图片，按如下方式修正：\n          </p>\n          <pre>\n            {`window.__colFix__ = function (key, value, row) {\n  switch (key) {\n    case 'price':\n      return (value / 100) + '元';\n\n    case 'img':\n      return '<img src=\"'+ value +'\" width=\"100\" height=\"80\" />'\n  }\n}`}\n          </pre>\n          <blockquote>\n            可通过<code>switch-case</code>同时修正多列数据，若使用ES6语法，请确保LEGO运行在支持的浏览器中。\n          </blockquote>\n          <p>\n            2. 修正分页数据：声明<code>window.__pageFix__</code>对分页数据进行修正并返回<b>数据总数 total</b>和\n            <b>分页大小 pageSize</b>。<br />\n            例如接口分页数据为：\n            <pre>{`{\n  \"code\": 0,\n  \"data\": {\n    \"pageInfo\": {\n      \"total\": 2192,\n      \"size\": 30\n    }\n  }\n}`}</pre>\n          </p>\n          <p>\n            则定义修正方法：\n            <pre>\n              {`window.__pageFix__ = function (data) {\n  return {\n    total: data.pageInfo.total,\n    pageSize: data.pageInfo.size\n  }\n}`}\n            </pre>\n          </p>\n          若接口分页数据为如下标准结构，则无需修正：\n          <pre>{`{\n  \"code\": 0,\n  \"data\": {\n    \"page\": {\n      \"total\": 2192,\n      \"pageSize\": 30\n    }\n  }\n}`}</pre>\n        </div>\n      </div>\n    </div>\n  </Wrap>\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Wrap } from '../../components';\n\nexport const ChartHelp = () => (\n  <Wrap>\n    <div className='guide-help'>\n      <div className='guide-node'>\n        <h2 className='help-title help-title-main'>\n          <span>创建图表</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            仅需简单配置，即可快速生成表现力丰富的数据图表，支持折线图、柱状图、饼状图，支持定时刷新，可在单页展示多个图表实例，方便对比分析。\n          </p>\n        </div>\n      </div>\n\n      <div className='guide-node' id='step-1'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#step-1'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>第一步：填写基本信息</span>\n        </h2>\n        <div className='help-content'>\n          <p>填写图表名称、配色和备注等基本信息，按照你的需要填写即可。</p>\n        </div>\n      </div>\n      <div className='guide-node' id='step-2'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#step-2'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>第二步：配置图表</span>\n        </h2>\n        <div className='help-content'>\n          <p>可配置多个图表，通过排版和组合方便的查看、对比、分析数据。需要特别说明的是：</p>\n          <ul>\n            <li>\n              <label>数据源</label>\n              <p>\n                获取数据的API，支持<Link to='/help/general#url-variable'>URL变量</Link>\n              </p>\n            </li>\n            <li>\n              <label>横坐标</label>\n              <p>\n                横坐标支持两种方式：\n                <br />\n                1. 如果横坐标为常量，可直接填写，并用逗号分隔，如：<code>周一,周二,周三,周四,周五,周六,周日</code>\n                <br />\n                2. 如果横坐标从数据源读取，有两种方式取值，请看以下数据示例：\n                <br />\n                <pre>{`{\n  \"code\": 0,\n  \"data\": {\n    \"dau\": [\n      {\n        \"uv\": 2100,\n        \"pv\": 10021,\n        \"day\": \"2020-01-01\"\n      },\n      {\n        \"uv\": 2100,\n        \"pv\": 10021,\n        \"day\": \"2020-01-02\"\n      },\n      {\n        \"uv\": 2100,\n        \"pv\": 10021,\n        \"day\": \"2020-01-03\"\n      },\n      {\n        \"uv\": 2100,\n        \"pv\": 10021,\n        \"day\": \"2020-01-04\"\n      },\n      {\n        \"uv\": 2100,\n        \"pv\": 10021,\n        \"day\": \"2020-01-05\"\n      }\n    ],\n    \"xAxis\": [\"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\", \"周日\"]\n  }\n}`}</pre>\n                2.1 如果接口直接返回横坐标数据，填写对应Path即可，如<code>data.xAxis</code>\n                <br />\n                2.2 如果横坐标是数据列表中的字段，可使用<Link to='/help/general#path-map'>PathMap</Link>取值，如\n                <code>data.dau..day</code>\n              </p>\n            </li>\n            <li>\n              <label>工具栏</label>\n              <p>可在图表右上角添加实用工具：saveAsImage 保存为图片，dataZoom 区域缩放，magicType 切换图表类型</p>\n            </li>\n            <li>\n              <label>系列</label>\n              <p>\n                一个图表可添加多个系列，按照你的需要填写名称、路径（支持\n                <Link to='/help/general#path-map'>PathMap</Link>）、类型等。\n              </p>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </Wrap>\n);\n","import React from 'react';\nimport { Wrap } from '../../components';\n// import { Link } from 'react-router-dom';\n\nexport const GeneralDesc = () => (\n  <Wrap>\n    <div className='guide-help'>\n      <div className='guide-node'>\n        <h2 className='help-title help-title-main'>\n          <span>通用说明</span>\n        </h2>\n        <div className='help-content'>\n          <p>对系统通用功能和模块做统一说明，帮助开发者更好的理解和使用LEGO。</p>\n        </div>\n      </div>\n      <div className='guide-node' id='json-schema'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#json-schema'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>JSON-Schema</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            要了解<code>JSON Schema</code>是什么，我们首先要了解<code>JSON</code>是什么。JSON（JavaScript Object\n            Notation）是一种简单的互联网数据交换格式。JSON基于JavaScript而来，它已被证明足够有用且足够简单，现在也被用于许多其他不涉及互联网数据交换的环境中。\n            <b>JSON-Schema是描述JSON数据结构的声明格式</b>\n            ，它本身也是用JSON编写的，可以为JSON数据提供清晰、严谨的声明，并可用于数据验证，保证数据交换的正确性。关于JSON-Schema更多内容，请查阅官网\n            <a href='https://json-schema.org/' target='_blank' rel='noopener noreferrer'>\n              https://json-schema.org/\n            </a>\n          </p>\n        </div>\n      </div>\n      <div className='guide-node' id='url-variable'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#url-variable'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>URL变量</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            URL变量是一种定制URL参数的方式，用在表单提交、表单回填、列表、图表数据等模块。开发者根据需要提供带变量的URL，实现对API的定制，系统所有API都支持URL变量。\n          </p>\n          <p>\n            格式如：<code>{'https://example.com/api/{{model}}/?id={{orderid}}&state={{state}}'}</code>，变量\n            <code>{'{{key}}'}</code>会被替换为当前页面URL中同名参数的值，若找不到对应参数则替换为空。例如当前页URL为\n            https://lego.com/htm/form/use/1?orderid=123&model=order，则API被替换为\n            {'https://example.com/api/order/?id=123&state='}\n          </p>\n        </div>\n      </div>\n      <div className='guide-node' id='path-map'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#path-map'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>PathMap</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            PathMap是LEGO特有的一种获取接口数据的方式，一般获取JSON相应节点数据时可使用Path，但萃取列表中某字段时，就要用到PathMap了。例如：\n            <pre>{`{\n  \"code\": 0,\n  \"data\": {\n    \"list\": [\n      {\n        \"price\": 125,\n        \"day\": \"2019-12-11\",\n        \"view\": 218\n      },\n      {\n        \"price\": 116,\n        \"day\": \"2019-12-12\",\n        \"view\": 1116\n      },\n      {\n        \"price\": 126,\n        \"day\": \"2019-12-13\",\n        \"view\": 519\n      }\n    ],\n    \"userInfo\": {\n      \"uid\": 623241545,\n      \"nickName\": \"FIGO\",\n      \"lastLogin\": [\"2019-12-11 14:25:59\", \"2019-12-07 10:16:06\", \"2019-12-12 08:06:28\"]\n    }\n  }\n}`}</pre>\n            按照如下方式取值可得到：\n            <br />\n            <code>data.userInfo.nickName</code> => <code>\"FIGO\"</code>\n            <br />\n            <code>data.userInfo.lastLogin</code> =>{' '}\n            <code>[\"2019-12-11 14:25:59\", \"2019-12-07 10:16:06\", \"2019-12-12 08:06:28\"]</code>\n            <br />\n            <code>data.list..view</code> => <code>[218, 1116, 519]</code>\n          </p>\n        </div>\n      </div>\n      <div className='guide-node' id='show-popup'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#file-upload'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>自定义弹窗</span>\n        </h2>\n        <div className='help-content'>\n          <p>为方便部分操作在当前页进行，LEGO支持自定义弹窗，支持iframe和html渲染，用法如下：</p>\n          <pre>{`window.popupShow(\n  src: \"https://xxx.com/htm/somepage.html\", // url或html，可嵌入表单或其他页面\n  width: 700, // 弹窗宽度，默认700\n  height: 400 // 弹窗高度，默认400，最大不得超过800\n);\n\nwindow.popupShow() // 关闭弹窗`}</pre>\n        </div>\n      </div>\n      <div className='guide-node' id='file-upload'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#file-upload'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>文件上传</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            系统默认使用「系统设置-上传方法」上传文件或图片，开发者根据后端提供的上传接口实现\n            <code>window.fileUploader</code>。<br />\n            如果某表单需要自定义上传方法，在表单扩展中声明\n            <code>window.formUploader</code>，用法相同。参数及用法Demo：\n          </p>\n          <pre>\n            {`/**\n * 实现 window.fileUploader\n * \n * file 文件对象\n * path 上传表单在schema中的路径，如 \"root.info.image\"，富文本编辑器的path为常量 \"wysiwyg\"\n * cbs 按需执行回调，将上传结果回传\n * \n * cbs.progress: 更新进度, int, 值为0-100（success时自动设为100）\n * cbs.fail: 失败回调, string, 值为失败说明\n * cbs.success: 成功回调, string, 值为文件URI\n */\nwindow.fileUploader = function (file, path, cbs) {\n  console.log(path);\n  setTimeout(() => {\n    cbs.progress(30);\n  }, 500);\n\n  setTimeout(() => {\n    cbs.success('//www.sogo.com/web/index/images/logo_440x140.v.4.png');\n  }, 2e3);\n};`}\n          </pre>\n        </div>\n      </div>\n      <div className='guide-node' id='icon-font'>\n        <h2 className='help-title help-title-sub'>\n          <a className='hash' href='#icon-font'>\n            <i className='fas fa-link'></i>\n          </a>\n          <span>IconFont</span>\n        </h2>\n        <div className='help-content'>\n          <p>\n            系统内置1500+\n            <a href='https://fontawesome.com/icons?d=gallery&m=free' target='_blank' rel='noopener noreferrer'>\n              Font Awesome\n            </a>\n            字体图标，可在「系统设置-左侧菜单」、「列表配置-数据操作」直接填写图标名称进行配置。\n          </p>\n        </div>\n      </div>\n    </div>\n  </Wrap>\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Wrap } from '../../components';\nimport './guide.scss';\n\nexport const GuideHome = () => (\n  <Wrap>\n    <div className='guide-home'>\n      <h1>使用LEGO快速搭建后台</h1>\n      <div className='subtitle'>LEGO拥有丰富的内建模块，可在数分钟内搭建强大的后台界面</div>\n      <div className='entry'>\n        <Link to='/form/create' className='item'>\n          <p>\n            <i className='fas fa-th-list'></i>\n          </p>\n          <h2>创建表单</h2>\n          <p className='desc'>以JSON数据为模型自动创建表单，支持日期、上传、编辑器等多种表单模型</p>\n        </Link>\n        <Link to='/table/create' className='item'>\n          <p>\n            <i className='fas fa-table'></i>\n          </p>\n          <h2>创建列表</h2>\n          <p className='desc'>提供API和表头，一键生成列表页，支持字段排序、搜索、分页等列表常用功能</p>\n        </Link>\n        <Link to='/chart/create' className='item'>\n          <p>\n            <i className='fas fa-chart-line'></i>\n          </p>\n          <h2>创建图表</h2>\n          <p className='desc'>通过简单配置即可生成折线图、柱状图、饼状图等多种数据图表</p>\n        </Link>\n      </div>\n      <div className='info lnks'>\n        帮助文档：<Link to='/help/general'>通用说明</Link>\n        <Link to='/help/form'>创建表单</Link>\n        <Link to='/help/table'>创建列表</Link>\n        <Link to='/help/chart'>创建图表</Link>\n      </div>\n      <div className='info'>Driven by React, JSON-Editor, Koa, Sqlite3. Powered by hanlongfei@sogou-inc.com</div>\n    </div>\n  </Wrap>\n);\n\nexport { FormHelp } from './form-help';\nexport { TableHelp } from './table-help';\nexport { ChartHelp } from './chart-help';\nexport { GeneralDesc } from './general';\n","import React, { useState, useRef } from 'react';\nimport { createForm } from '../../config/schema';\nimport { axios, toast, json2schema } from '../../common/utils';\nimport { Wrap, Button, SchemaForm, AceCode } from '../../components';\nimport { FORM, PREPATH } from '../../config/apis';\n\nimport './form.scss';\n\nexport const FormCreate = props => {\n  const [step, setStep] = useState(1);\n  const [form, setForm] = useState({ schema: {}, data: {} });\n  const [extShow, setExtShow] = useState(false);\n  const configRef = useRef(null);\n  const previewRef = useRef(null);\n  const extRef = useRef(null);\n\n  // 预览和编辑表单\n  function doNext() {\n    const configEditor = configRef.current;\n    const validates = configEditor.validate();\n\n    if (validates.length > 0) {\n      toast(`表单填写有误：<br />${validates.map(err => err.path + ': ' + err.message).join('<br />')}`);\n    } else {\n      const { name, json } = configEditor.getValue();\n      const data = JSON.parse(json);\n\n      // 初始化预览表单\n      setForm({ schema: json2schema(data, name), data });\n\n      // 跳至预览页\n      setStep(2);\n    }\n  }\n\n  function doConsole() {\n    console.log(previewRef.current.getValue());\n  }\n\n  function doSave() {\n    const schema = form.schema;\n    const { name, api, origin, desc } = configRef.current.getValue();\n    const ext = extRef.current.getValue();\n\n    axios('POST', FORM, {\n      name,\n      api,\n      origin,\n      desc,\n      ext,\n      schema: JSON.stringify(schema),\n    })\n      .then(() => {\n        toast('保存成功');\n        props.history.push('/form/list');\n      })\n      .catch(err => {\n        toast(err.msg);\n      });\n  }\n\n  return (\n    <Wrap>\n      <div className='lego-card'>\n        <SchemaForm onReady={editor => (configRef.current = editor)} show={step === 1} schema={createForm} />\n        {step === 2 && (\n          <>\n            <SchemaForm\n              schema={form.schema}\n              startval={form.data}\n              editable={true}\n              onReady={editor => (previewRef.current = editor)}\n              onSchemaUpdate={schema => setForm(({ data }) => ({ data, schema }))}\n            />\n            <div className={'form-ext card ' + (extShow ? 'form-ext-show' : '')}>\n              <h3>\n                <label>表单扩展</label>\n                <span className='switch-ext' onClick={() => setExtShow(!extShow)}>\n                  <i className='fa fa-angle-right' />\n                </span>\n              </h3>\n              <AceCode type='javascript' onReady={ace => (extRef.current = ace)} />\n            </div>\n          </>\n        )}\n        <div className='btns-row'>\n          {step === 1 && [\n            <Button key='next' value='下一步' onClick={doNext} extClass='btn-primary' />,\n            <Button\n              key='help'\n              onClick={() => window.open(`${PREPATH}/help/form`)}\n              value='帮助'\n              extClass='btn-outline-primary'\n            />,\n          ]}\n          {step === 2 && [\n            <Button key='save' value='保存' onClick={doSave} extClass='btn-success' />,\n            <Button key='log' value='console.log' onClick={doConsole} extClass='btn-outline-primary' />,\n            <Button\n              key='help'\n              onClick={() => window.open(`${PREPATH}/help/form`)}\n              value='帮助'\n              extClass='btn-outline-primary'\n            />,\n            <Button key='back' value='返回' onClick={() => setStep(1)} extClass='btn-outline-secondary' />,\n          ]}\n        </div>\n      </div>\n    </Wrap>\n  );\n};\n","import React from 'react';\nimport { Wrap, Table } from '../../components';\n\nexport const FormList = props => {\n  const host = process.env.NODE_ENV === 'production' ? window.location.host : 'localhost:8081';\n  const apiPrefix = `//${host}/_lego_api_/`;\n  const config = {\n    base: { name: '表单管理', api: apiPrefix + 'form/list?name={{name}}&pn={{pageNo}}', path: 'data.list' },\n    cols: [\n      { key: 'id', name: 'ID', width: '80', fn: [] },\n      { key: 'name', name: '表单名称', width: '240', fn: ['search'] },\n      { key: 'desc', name: '备注', width: '', fn: [] },\n    ],\n    handles: [\n      {\n        key: 'view',\n        name: '预览',\n        icon: 'eye',\n        url: '/form/use/{{id}}',\n        action: 'link',\n      },\n      {\n        key: 'edit',\n        name: '编辑',\n        icon: 'edit',\n        url: '/form/edit/{{id}}',\n        action: 'link',\n      },\n      { key: 'delete', name: '删除', icon: 'trash-alt', url: apiPrefix + 'form/delete?id={{id}}', action: 'api' },\n    ],\n  };\n\n  return (\n    <Wrap>\n      <div className='lego-card'>\n        <div id='tableTopHook' className='table-top clearfix'>\n          <h2 className='title'>{config.base.name}</h2>\n          <div className='btns'>\n            <button\n              type='button'\n              className='btn btn-primary btn-sm'\n              onClick={() => props.history.push('/form/create')}>\n              <i className='fas fa-plus' />\n              <span>创建表单</span>\n            </button>\n          </div>\n        </div>\n        <Table config={config}></Table>\n      </div>\n    </Wrap>\n  );\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Wrap, SchemaForm, AceCode, Button } from '../../components';\nimport { axios, toast } from '../../common/utils';\nimport { FORM, PREPATH } from '../../config/apis';\n\nexport const FormEdit = props => {\n  const [formData, setFormData] = useState({\n    name: '',\n    api: '',\n    origin: '',\n    schema: '{}',\n    desc: '',\n    ext: '',\n    loading: true,\n  });\n  const formRef = useRef(null);\n  const extRef = useRef(null);\n\n  useEffect(() => {\n    const id = props.match.params.id;\n    axios('GET', FORM, { id }).then(res => {\n      const { name, api, origin, desc, schema, ext } = res.data;\n      setFormData({ name, api, origin, desc, schema, ext, loading: false });\n    });\n  }, [props.match.params.id]);\n\n  function doConsole() {\n    console.log(formRef.current.getValue());\n  }\n\n  function doSave() {\n    axios('POST', FORM, {\n      id: props.match.params.id,\n      ...formData,\n      ext: extRef.current.getValue(),\n    })\n      .then(() => {\n        toast('保存成功');\n        props.history.push('/form/list');\n      })\n      .catch(err => {\n        toast(err.msg);\n      });\n  }\n\n  function doBack() {\n    props.history.goBack();\n  }\n\n  function handleChange(evt) {\n    const target = evt.target;\n    const value = target.value;\n    const key = target.name;\n    setFormData(Object.assign({}, formData, { [key]: value }));\n  }\n\n  return (\n    <Wrap loading={formData.loading}>\n      <div className='lego-card'>\n        <SchemaForm\n          schema={JSON.parse(formData.schema)}\n          onReady={editor => (formRef.current = editor)}\n          onSchemaUpdate={schema => setFormData(data => Object.assign({}, data, { schema: JSON.stringify(schema) }))}\n          editable={true}\n        />\n        <div className='card card-body' style={{ marginTop: 20, background: '#fafafa' }}>\n          <div className='row'>\n            <div className='col-md-3'>\n              <div className='form-group'>\n                <label className='form-control-label'>表单名称</label>\n                <input type='text' value={formData.name} onChange={handleChange} name='name' className='form-control' />\n              </div>\n            </div>\n            <div className='col-md-3'>\n              <div className='form-group'>\n                <label className='form-control-label'>提交API</label>\n                <input type='text' onChange={handleChange} value={formData.api} name='api' className='form-control' />\n              </div>\n            </div>\n            <div className='col-md-3'>\n              <div className='form-group'>\n                <label className='form-control-label'>数据API</label>\n                <input\n                  type='text'\n                  onChange={handleChange}\n                  value={formData.origin}\n                  name='origin'\n                  className='form-control'\n                />\n              </div>\n            </div>\n            <div className='col-md-3'>\n              <div className='form-group'>\n                <label className='form-control-label'>表单备注</label>\n                <input type='text' onChange={handleChange} value={formData.desc} name='desc' className='form-control' />\n              </div>\n            </div>\n            <div className='col-md-12'>\n              <div className='form-group'>\n                <label className='form-control-label'>表单扩展</label>\n                <div style={{ height: 350 }}>\n                  <AceCode code={formData.ext} type='javascript' onReady={ace => (extRef.current = ace)} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className='btns-row'>\n          <Button value='保存' onClick={doSave} extClass='btn-success' />\n          <Button value='console.log' onClick={doConsole} extClass='btn-outline-primary' />\n          <Button\n            key='help'\n            onClick={() => window.open(`${PREPATH}/help/form`)}\n            value='帮助'\n            extClass='btn-outline-primary'\n          />\n          <Button value='返回' onClick={doBack} extClass='btn-outline-secondary' />\n        </div>\n      </div>\n    </Wrap>\n  );\n};\n","import React, { useState, useRef, useEffect, useContext } from 'react';\nimport { Wrap, Button, SchemaForm } from '../../components';\nimport { axios, toast, parseUrl, execJs, buildUrl, isInFrame } from '../../common/utils';\nimport { SettingContext } from '../../config/context';\nimport { FORM } from '../../config/apis';\n\nexport const FormUse = props => {\n  const context = useContext(SettingContext);\n  const [state, setState] = useState({\n    api: '',\n    origin: '',\n    schema: '{}',\n    loading: true,\n  });\n  const formRef = useRef(null);\n\n  useEffect(() => {\n    const id = props.match.params.id;\n    let fn, script;\n\n    axios('GET', FORM, { id }).then(res => {\n      let { api, origin, schema, ext, state = 0 } = res.data;\n      if (state === 0) {\n        toast('表单已失效');\n        setState({\n          schema: '{\"title\":\"无效表单\",\"properties\":{},\"options\":{\"disable_collapse\":true}}',\n          loading: false,\n        });\n      } else {\n        setState({ api, origin, schema, loading: false });\n        [fn, script] = execJs(ext);\n      }\n    });\n\n    return () => {\n      try {\n        // 跳出时卸载JS\n        console.log(`unmount ${fn}`);\n        delete window.onDataReady;\n        delete window.__editor__;\n        delete window[fn];\n        script.remove();\n      } catch (e) {\n        console.warn(e);\n      }\n    };\n  }, [props.match.params.id]);\n\n  useEffect(() => {\n    const params = parseUrl();\n    // do = edit且配置数据源时进入编辑模式\n    if (params && params.do === 'edit' && state.origin) {\n      const originUrl = buildUrl(state.origin, params);\n\n      axios('GET', originUrl)\n        .then(res => {\n          if (res.code === 0) {\n            try {\n              formRef.current.setValue(res.data);\n\n              // 通知ext\n              if (typeof window.onDataReady === 'function') {\n                window.onDataReady(res.data);\n              }\n            } catch (err) {\n              console.warn(err);\n            }\n          }\n        })\n        .catch(err => console.log(err));\n    }\n  }, [state.origin]);\n\n  function doSubmit() {\n    const editor = formRef.current;\n    const validates = editor.validate();\n    const params = parseUrl();\n    if (validates.length > 0) {\n      toast(`表单填写有误：<br />${validates.map(err => err.path + ': ' + err.message).join('<br />')}`);\n    } else {\n      const api = (/^(http|\\/\\/)/.test(state.api) ? '' : context.baseUrl) + state.api;\n      axios('POST', buildUrl(api), {\n        ...params,\n        data: JSON.stringify(editor.getValue()),\n      })\n        .then(res => {\n          if (res.code === 0) {\n            toast('提交成功');\n          }\n        })\n        .catch(err => {\n          toast(err.msg);\n        });\n    }\n  }\n\n  function doConsole() {\n    console.log(formRef.current.getValue());\n  }\n\n  return (\n    <Wrap loading={state.loading}>\n      <div className='lego-card'>\n        <SchemaForm\n          schema={JSON.parse(state.schema)}\n          onReady={editor => (formRef.current = window.__editor__ = editor)}\n        />\n        <div className='btns-row'>\n          <Button onClick={doSubmit} value='提交' extClass='btn-primary' />\n          <Button onClick={doConsole} value='console.log' extClass='btn-outline-primary' />\n          {!isInFrame && (\n            <Button onClick={() => props.history.goBack()} value='返回' extClass='btn-outline-secondary' />\n          )}\n        </div>\n      </div>\n    </Wrap>\n  );\n};\n","import React, { useRef, useEffect } from 'react';\nimport { Wrap, SchemaForm, Button, AceCode } from '../../components';\nimport { createTable } from '../../config/schema';\nimport { axios, toast } from '../../common/utils';\nimport { TABLE, PREPATH } from '../../config/apis';\n\nexport const TableEdit = props => {\n  const isEdit = props.match.path === '/table/edit/:id';\n  const formEditor = useRef(null);\n  const extEditor = useRef(null);\n\n  if (isEdit) {\n    createTable.title = '编辑列表';\n  } else {\n    createTable.title = '创建列表';\n  }\n\n  function doSubmit() {\n    const editor = formEditor.current;\n    const validates = editor.validate();\n\n    // 校验配置\n    if (validates.length > 0) {\n      toast(`表单填写有误：<br />${validates.map(err => err.path + ': ' + err.message).join('<br />')}`);\n      return;\n    }\n\n    const data = editor.getValue();\n    const { name, desc } = data.base;\n    const postData = {\n      name,\n      origin,\n      desc,\n      config: JSON.stringify(data),\n      ext: extEditor.current.getValue(),\n    };\n\n    // 编辑状态\n    if (isEdit) {\n      postData.id = props.match.params.id;\n    }\n\n    axios('POST', TABLE, postData)\n      .then(() => {\n        toast('保存成功');\n        props.history.push('/table/list');\n      })\n      .catch(err => {\n        toast(err.msg);\n      });\n  }\n\n  useEffect(() => {\n    if (isEdit) {\n      const id = props.match.params.id;\n      axios('GET', TABLE, { id }).then(res => {\n        const { config, ext } = res.data;\n        if (config) {\n          formEditor.current.setValue(JSON.parse(config));\n        }\n        if (ext) {\n          extEditor.current.setValue(ext);\n        }\n      });\n    }\n  }, [isEdit, props.match.params.id]);\n\n  return (\n    <Wrap>\n      <div className='lego-card'>\n        <SchemaForm onReady={editor => (formEditor.current = editor)} schema={createTable} />\n\n        <div className='card card-body' style={{ marginTop: 20, background: '#fafafa' }}>\n          <div className='row'>\n            <div className='col-md-12'>\n              <div className='form-group'>\n                <label className='form-control-label'>常规功能无法满足时，利用JavaScript进行扩展</label>\n                <div style={{ height: 300 }}>\n                  <AceCode type='javascript' onReady={ace => (extEditor.current = ace)} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className='btns-row'>\n          <Button onClick={doSubmit} value='提交' extClass='btn-primary' />\n          <Button value='帮助' onClick={() => window.open(`${PREPATH}/help/table`)} extClass='btn-outline-primary' />\n          <Button onClick={() => props.history.goBack()} value='返回' extClass='btn-outline-secondary' />\n        </div>\n      </div>\n    </Wrap>\n  );\n};\n","import React from 'react';\nimport { Wrap, Table } from '../../components';\n\nexport const TableList = props => {\n  const host = process.env.NODE_ENV === 'production' ? window.location.host : 'localhost:8081';\n  const apiPrefix = `//${host}/_lego_api_/`;\n  const config = {\n    base: { name: '列表管理', api: apiPrefix + 'table/list?name={{name}}&pn={{pageNo}}', path: 'data.list' },\n    cols: [\n      { key: 'id', name: 'ID', width: '100', fn: [] },\n      { key: 'name', name: '列表名称', width: '300', fn: ['search'] },\n      { key: 'desc', name: '备注', width: '', fn: [] },\n    ],\n    handles: [\n      {\n        key: 'preview',\n        name: '预览',\n        icon: 'eye',\n        url: '/table/use/{{id}}',\n        action: 'link',\n      },\n      {\n        key: 'edit',\n        name: '编辑',\n        icon: 'edit',\n        url: '/table/edit/{{id}}',\n        action: 'link',\n      },\n      { key: 'delete', name: '删除', icon: 'trash-alt', url: apiPrefix + 'table/delete?id={{id}}', action: 'api' },\n    ],\n  };\n\n  return (\n    <Wrap>\n      <div className='lego-card'>\n        <div id='tableTopHook' className='table-top clearfix'>\n          <h2 className='title'>{config.base.name}</h2>\n          <div className='btns'>\n            <button\n              type='button'\n              className='btn btn-primary btn-sm'\n              onClick={() => props.history.push('/table/create')}>\n              <i className='fas fa-plus' />\n              <span>创建列表</span>\n            </button>\n          </div>\n        </div>\n        <Table config={config}></Table>\n      </div>\n    </Wrap>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Wrap, Table } from '../../components';\nimport { axios, execJs } from '../../common/utils';\nimport { TABLE } from '../../config/apis';\n\nexport const TableUse = props => {\n  const [config, setConfig] = useState(null);\n\n  useEffect(() => {\n    const id = props.match.params.id;\n    let fn, script;\n    axios('GET', TABLE, { id }).then(res => {\n      setConfig(JSON.parse(res.data.config));\n      [fn, script] = execJs(res.data.ext);\n    });\n\n    return () => {\n      try {\n        // 重置\n        setConfig(null);\n\n        // 跳出时卸载JS\n        console.log(`unmount ${fn}`);\n        delete window[fn];\n        script.remove();\n      } catch (e) {\n        console.warn(e);\n      }\n    };\n  }, [props.match.params.id]);\n\n  return (\n    <Wrap>\n      <div className='lego-card'>\n        <div id='tableTopHook' className='table-top clearfix'>\n          <h2 className='title'>{config ? config.base.name : ''}</h2>\n        </div>\n        {config && <Table config={config}></Table>}\n      </div>\n    </Wrap>\n  );\n};\n","import React, { useRef, useEffect } from 'react';\nimport { Wrap, SchemaForm, Button } from '../../components';\nimport { createChart } from '../../config/schema';\nimport { axios, toast } from '../../common/utils';\nimport { CHART, PREPATH } from '../../config/apis';\n\nexport const ChartEdit = props => {\n  const isEdit = props.match.path === '/chart/edit/:id';\n  const chartEditor = useRef(null);\n\n  if (isEdit) {\n    createChart.title = '编辑图表';\n  } else {\n    createChart.title = '创建图表';\n  }\n\n  function doSubmit() {\n    const editor = chartEditor.current;\n    const validates = editor.validate();\n\n    // 校验配置\n    if (validates.length > 0) {\n      toast(`表单填写有误：<br />${validates.map(err => err.path + ': ' + err.message).join('<br />')}`);\n      return;\n    }\n\n    // 保存\n    const data = editor.getValue();\n    const { name, desc } = data;\n    const postData = {\n      name,\n      desc,\n      config: JSON.stringify(data),\n    };\n\n    // 编辑状态\n    if (isEdit) {\n      postData.id = props.match.params.id;\n    }\n\n    axios('POST', CHART, postData)\n      .then(() => {\n        toast('保存成功');\n        props.history.push('/chart/list');\n      })\n      .catch(err => {\n        toast(err.msg);\n      });\n  }\n\n  useEffect(() => {\n    if (isEdit) {\n      const id = props.match.params.id;\n      axios('GET', CHART, { id }).then(res => {\n        const { config } = res.data;\n        if (config) {\n          chartEditor.current.setValue(JSON.parse(config));\n        }\n      });\n    }\n  }, [isEdit, props.match.params.id]);\n\n  return (\n    <Wrap>\n      <div className='lego-card'>\n        <SchemaForm onReady={editor => (chartEditor.current = editor)} schema={createChart} />\n        <div className='btns-row'>\n          <Button onClick={doSubmit} value='提交' extClass='btn-primary' />\n          <Button value='帮助' onClick={() => window.open(`${PREPATH}/help/chart`)} extClass='btn-outline-primary' />\n          <Button onClick={() => props.history.goBack()} value='返回' extClass='btn-outline-secondary' />\n        </div>\n      </div>\n    </Wrap>\n  );\n};\n","import React from 'react';\nimport { Wrap, Table } from '../../components';\n\nexport const ChartList = props => {\n  const host = process.env.NODE_ENV === 'production' ? window.location.host : 'localhost:8081';\n  const apiPrefix = `//${host}/_lego_api_/`;\n  const config = {\n    base: { name: '图表管理', api: apiPrefix + 'chart/list?name={{name}}&pn={{pageNo}}', path: 'data.list' },\n    cols: [\n      { key: 'id', name: 'ID', width: '100', fn: [] },\n      { key: 'name', name: '图表名称', width: '300', fn: ['search'] },\n      { key: 'desc', name: '备注', width: '', fn: [] },\n    ],\n    handles: [\n      {\n        key: 'preview',\n        name: '预览',\n        icon: 'eye',\n        url: '/chart/use/{{id}}',\n        action: 'link',\n      },\n      {\n        key: 'edit',\n        name: '编辑',\n        icon: 'edit',\n        url: '/chart/edit/{{id}}',\n        action: 'link',\n      },\n      { key: 'delete', name: '删除', icon: 'trash-alt', url: apiPrefix + 'chart/delete?id={{id}}', action: 'api' },\n    ],\n  };\n\n  return (\n    <Wrap>\n      <div className='lego-card'>\n        <div id='tableTopHook' className='table-top clearfix'>\n          <h2 className='title'>{config.base.name}</h2>\n          <div className='btns'>\n            <button\n              type='button'\n              className='btn btn-primary btn-sm'\n              onClick={() => props.history.push('/chart/create')}>\n              <i className='fas fa-plus' />\n              <span>创建图表</span>\n            </button>\n          </div>\n        </div>\n        <Table config={config}></Table>\n      </div>\n    </Wrap>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Wrap, Charts } from '../../components';\nimport { CHART } from '../../config/apis';\nimport { axios } from '../../common/utils';\n\nexport const ChartUse = props => {\n  const [config, setConfig] = useState(null);\n\n  useEffect(() => {\n    const id = props.match.params.id;\n    axios('GET', CHART, { id }).then(res => setConfig(JSON.parse(res.data.config)));\n  }, [props.match.params.id]);\n\n  return (\n    <Wrap>\n      <div className='lego-card'>{config && <Charts config={config}></Charts>}</div>\n    </Wrap>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport { Nav, Aside } from './components';\nimport { Setting } from './pages/setting';\nimport { GuideHome, FormHelp, TableHelp, ChartHelp, GeneralDesc } from './pages/guide';\nimport { FormCreate } from './pages/form/create';\nimport { FormList } from './pages/form/list';\nimport { FormEdit } from './pages/form/edit';\nimport { FormUse } from './pages/form/use';\nimport { TableEdit } from './pages/table';\nimport { TableList } from './pages/table/list';\nimport { TableUse } from './pages/table/use';\nimport { ChartEdit } from './pages/chart';\nimport { ChartList } from './pages/chart/list';\nimport { ChartUse } from './pages/chart/use';\nimport { SettingContext } from './config/context';\nimport { axios, execJs } from './common/utils';\nimport { SETTING } from './config/apis';\n\nimport { isInFrame } from './common/utils';\n\nimport './common/bootstrap.css';\nimport './common/base.scss';\n\nconst App = () => {\n  const [setting, setSetting] = useState({});\n  const showNav = !isInFrame;\n  const showAside = !isInFrame && setting.mode === 'standalone';\n\n  useEffect(() => {\n    axios('GET', SETTING)\n      .then(res => {\n        const { name = '后台管理系统', baseUrl, mode, sideMenu, uploadFn } = res.data;\n        setSetting({ name, baseUrl, mode, sideMenu, uploadFn });\n      })\n      .catch(err => {\n        console.warn(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    let fn = '';\n    try {\n      // 挂载上传方法\n      if (setting.uploadFn) {\n        fn = execJs(setting.uploadFn);\n        console.log('FileUploader mounted!');\n      }\n    } catch (err) {\n      console.warn(err);\n    }\n    return () => {\n      if (fn.length > 0) {\n        window[fn] = null;\n      }\n    };\n  }, [setting.uploadFn]);\n\n  return (\n    <SettingContext.Provider value={setting}>\n      <section className='frame-main'>\n        <BrowserRouter basename={process.env.REACT_APP_PRE}>\n          {showAside && <Aside />}\n          <div className='frame-body'>\n            {showNav && <Nav mode={setting.mode} />}\n            <Switch>\n              <Route exact path={['/index', '/']} render={GuideHome} />\n              <Route path='/setting' render={() => <Setting updateSetting={setSetting} />} />\n\n              <Route path='/form/create' component={FormCreate} />\n              <Route path='/form/list' component={FormList} />\n              <Route path='/form/edit/:id' component={FormEdit} />\n              <Route path='/form/use/:id' component={FormUse} />\n\n              <Route path='/table/create' component={TableEdit} />\n              <Route path='/table/edit/:id' component={TableEdit} />\n              <Route path='/table/list' component={TableList} />\n              <Route path='/table/use/:id' component={TableUse} />\n\n              <Route path='/chart/create' component={ChartEdit} />\n              <Route path='/chart/edit/:id' component={ChartEdit} />\n              <Route path='/chart/list' component={ChartList} />\n              <Route path='/chart/use/:id' component={ChartUse} />\n\n              <Route path='/help/form' component={FormHelp} />\n              <Route path='/help/table' component={TableHelp} />\n              <Route path='/help/chart' component={ChartHelp} />\n              <Route path='/help/general' component={GeneralDesc} />\n            </Switch>\n          </div>\n        </BrowserRouter>\n      </section>\n    </SettingContext.Provider>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}