(this.webpackJsonplego=this.webpackJsonplego||[]).push([[7],{224:function(t,e,i){var o=i(118),n=i(121);t.exports=function(t,e){var i,a=[],s=t.seriesIndex;if(null==s||!(i=e.getSeriesByIndex(s)))return{point:[]};var r=i.getData(),l=n.queryDataIndex(r,t);if(null==l||l<0||o.isArray(l))return{point:[]};var d=r.getItemGraphicEl(l),h=i.coordinateSystem;if(i.getTooltipPosition)a=i.getTooltipPosition(l)||[];else if(h&&h.dataToPoint)a=h.dataToPoint(r.getValues(o.map(h.dimensions,(function(t){return r.mapDimension(t)})),l,!0))||[];else if(d){var u=d.getBoundingRect().clone();u.applyTransform(d.transform),a=[u.x+u.width/2,u.y+u.height/2]}return{point:a,el:d}}},225:function(t,e,i){var o=i(118),n=i(124),a=(0,i(121).makeInner)(),s=o.each;function r(t,e,i){t.handler("leave",null,i)}function l(t,e,i,o){e.handler(t,i,o)}e.register=function(t,e,i){if(!n.node){var d=e.getZr();a(d).records||(a(d).records={}),function(t,e){if(a(t).initialized)return;function i(i,o){t.on(i,(function(i){var n=function(t){var e={showTip:[],hideTip:[]};return{dispatchAction:function i(o){var n=e[o.type];n?n.push(o):(o.dispatchAction=i,t.dispatchAction(o))},pendings:e}}(e);s(a(t).records,(function(t){t&&o(t,i,n.dispatchAction)})),function(t,e){var i,o=t.showTip.length,n=t.hideTip.length;o?i=t.showTip[o-1]:n&&(i=t.hideTip[n-1]);i&&(i.dispatchAction=null,e.dispatchAction(i))}(n.pendings,e)}))}a(t).initialized=!0,i("click",o.curry(l,"click")),i("mousemove",o.curry(l,"mousemove")),i("globalout",r)}(d,e),(a(d).records[t]||(a(d).records[t]={})).handler=i}},e.unregister=function(t,e){if(!n.node){var i=e.getZr();(a(i).records||{})[t]&&(a(i).records[t]=null)}}},226:function(t,e,i){var o=i(118),n=i(120),a=i(132),s=i(128),r=i(135),l=i(144),d=i(219);function h(t,e,i,o,n){var r=u(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),l=i.getModel("label"),d=s.normalizeCssArray(l.get("padding")||0),h=l.getFont(),p=a.getBoundingRect(r,h),c=n.position,f=p.width+d[1]+d[3],g=p.height+d[0]+d[2],x=n.align;"right"===x&&(c[0]-=f),"center"===x&&(c[0]-=f/2);var m=n.verticalAlign;"bottom"===m&&(c[1]-=g),"middle"===m&&(c[1]-=g/2),function(t,e,i,o){var n=o.getWidth(),a=o.getHeight();t[0]=Math.min(t[0]+e,n)-e,t[1]=Math.min(t[1]+i,a)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(c,f,g,o);var v=l.get("backgroundColor");v&&"auto"!==v||(v=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:f,height:g,r:l.get("borderRadius")},position:c.slice(),style:{text:r,textFont:h,textFill:l.getTextColor(),textPosition:"inside",textPadding:d,fill:v,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function u(t,e,i,n,a){t=e.scale.parse(t);var s=e.scale.getLabel(t,{precision:a.precision}),r=a.formatter;if(r){var d={value:l.getAxisRawValue(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};o.each(n,(function(t){var e=i.getSeriesByIndex(t.seriesIndex),o=t.dataIndexInside,n=e&&e.getDataParams(o);n&&d.seriesData.push(n)})),o.isString(r)?s=r.replace("{value}",s):o.isFunction(r)&&(s=r(d))}return s}function p(t,e,i){var o=r.create();return r.rotate(o,o,i.rotation),r.translate(o,o,i.position),n.applyTransform([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],o)}e.buildElStyle=function(t){var e,i=t.get("type"),o=t.getModel(i+"Style");return"line"===i?(e=o.getLineStyle()).fill=null:"shadow"===i&&((e=o.getAreaStyle()).stroke=null),e},e.buildLabelElOption=h,e.getValueLabel=u,e.getTransformedPosition=p,e.buildCartesianSingleLabelElOption=function(t,e,i,o,n,a){var s=d.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=n.get("label.margin"),h(e,o,n,a,{position:p(o.axis,t,i),align:s.textAlign,verticalAlign:s.textVerticalAlign})},e.makeLineShape=function(t,e,i){return{x1:t[i=i||0],y1:t[1-i],x2:e[i],y2:e[1-i]}},e.makeRectShape=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},e.makeSectorShape=function(t,e,i,o,n,a){return{cx:t,cy:e,r0:i,r:o,startAngle:n,endAngle:a,clockwise:!0}}},323:function(t,e,i){var o=i(119),n=i(118),a=i(157),s=i(324);i(325),i(326),i(327),o.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!n.isArray(e)&&(t.axisPointer.link=[e])}})),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=a.collect(t,e)})),o.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},s)},324:function(t,e,i){var o=i(118),n=i(121).makeInner,a=i(157),s=i(224),r=o.each,l=o.curry,d=n();function h(t,e,i,n,a){var s=t.axis;if(!s.scale.isBlank()&&s.containData(e))if(t.involveSeries){var l=function(t,e){var i=e.axis,o=i.dim,n=t,a=[],s=Number.MAX_VALUE,l=-1;return r(e.seriesModels,(function(e,d){var h,u,p=e.getData().mapDimension(o,!0);if(e.getAxisTooltipData){var c=e.getAxisTooltipData(p,t,i);u=c.dataIndices,h=c.nestestValue}else{if(!(u=e.getData().indicesOfNearest(p[0],t,"category"===i.type?.5:null)).length)return;h=e.getData().get(p[0],u[0])}if(null!=h&&isFinite(h)){var f=t-h,g=Math.abs(f);g<=s&&((g<s||f>=0&&l<0)&&(s=g,l=f,n=h,a.length=0),r(u,(function(t){a.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:a,snapToValue:n}}(e,t),d=l.payloadBatch,h=l.snapToValue;d[0]&&null==a.seriesIndex&&o.extend(a,d[0]),!n&&t.snap&&s.containData(h)&&null!=h&&(e=h),i.showPointer(t,e,d,a),i.showTooltip(t,l,h)}else i.showPointer(t,e)}function u(t,e,i,o){t[e.key]={value:i,payloadBatch:o}}function p(t,e,i,o){var n=i.payloadBatch,s=e.axis,r=s.model,l=e.axisPointerModel;if(e.triggerTooltip&&n.length){var d=e.coordSys.model,h=a.makeKey(d),u=t.map[h];u||(u=t.map[h]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:s.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:o,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:n.slice()})}}function c(t){var e=t.axis.model,i={},o=i.axisDim=t.axis.dim;return i.axisIndex=i[o+"AxisIndex"]=e.componentIndex,i.axisName=i[o+"AxisName"]=e.name,i.axisId=i[o+"AxisId"]=e.id,i}function f(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}t.exports=function(t,e,i){var n=t.currTrigger,a=[t.x,t.y],g=t,x=t.dispatchAction||o.bind(i.dispatchAction,i),m=e.getComponent("axisPointer").coordSysAxesInfo;if(m){f(a)&&(a=s({seriesIndex:g.seriesIndex,dataIndex:g.dataIndex},e).point);var v=f(a),y=g.axesInfo,_=m.axesInfo,w="leave"===n||f(a),b={},T={},I={list:[],map:{}},C={showPointer:l(u,T),showTooltip:l(p,I)};r(m.coordSysMap,(function(t,e){var i=v||t.containPoint(a);r(m.coordSysAxesInfo[e],(function(t,e){var o=t.axis,n=function(t,e){for(var i=0;i<(t||[]).length;i++){var o=t[i];if(e.axis.dim===o.axisDim&&e.axis.model.componentIndex===o.axisIndex)return o}}(y,t);if(!w&&i&&(!y||n)){var s=n&&n.value;null!=s||v||(s=o.pointToData(a)),null!=s&&h(t,s,C,!1,b)}}))}));var S={};return r(_,(function(t,e){var i=t.linkGroup;i&&!T[e]&&r(i.axesInfo,(function(e,o){var n=T[o];if(e!==t&&n){var a=n.value;i.mapper&&(a=t.axis.scale.parse(i.mapper(a,c(e),c(t)))),S[t.key]=a}}))})),r(S,(function(t,e){h(_[e],t,C,!0,b)})),function(t,e,i){var o=i.axesInfo=[];r(e,(function(e,i){var n=e.axisPointerModel.option,a=t[i];a?(!e.useHandle&&(n.status="show"),n.value=a.value,n.seriesDataIndices=(a.payloadBatch||[]).slice()):!e.useHandle&&(n.status="hide"),"show"===n.status&&o.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:n.value})}))}(T,_,b),function(t,e,i,o){if(f(e)||!t.list.length)return void o({type:"hideTip"});var n=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:t.list})}(I,a,t,x),function(t,e,i){var n=i.getZr(),a=d(n).axisPointerLastHighlights||{},s=d(n).axisPointerLastHighlights={};r(t,(function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&r(i.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;s[e]=t}))}));var l=[],h=[];o.each(a,(function(t,e){!s[e]&&h.push(t)})),o.each(s,(function(t,e){!a[e]&&l.push(t)})),h.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:h}),l.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:l})}(_,0,i),b}}},325:function(t,e,i){var o=i(119).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});t.exports=o},326:function(t,e,i){var o=i(119),n=i(225),a=o.extendComponentView({type:"axisPointer",render:function(t,e,i){var o=e.getComponent("tooltip"),a=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";n.register("axisPointer",i,(function(t,e,i){"none"!==a&&("leave"===t||a.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},remove:function(t,e){n.unregister(e.getZr(),"axisPointer"),a.superApply(this._model,"remove",arguments)},dispose:function(t,e){n.unregister("axisPointer",e),a.superApply(this._model,"dispose",arguments)}}),s=a;t.exports=s},327:function(t,e,i){var o=i(328),n=i(226),a=i(221),s=i(220),r=o.extend({makeElOption:function(t,e,i,o,s){var r=i.axis,h=r.grid,u=o.get("type"),p=l(h,r).getOtherAxis(r).getGlobalExtent(),c=r.toGlobalCoord(r.dataToCoord(e,!0));if(u&&"none"!==u){var f=n.buildElStyle(o),g=d[u](r,c,p);g.style=f,t.graphicKey=g.type,t.pointer=g}var x=a.layout(h.model,i);n.buildCartesianSingleLabelElOption(e,t,x,i,o,s)},getHandleTransform:function(t,e,i){var o=a.layout(e.axis.grid.model,e,{labelInside:!1});return o.labelMargin=i.get("handle.margin"),{position:n.getTransformedPosition(e.axis,t,o),rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,o){var n=i.axis,a=n.grid,s=n.getGlobalExtent(!0),r=l(a,n).getOtherAxis(n).getGlobalExtent(),d="x"===n.dim?0:1,h=t.position;h[d]+=e[d],h[d]=Math.min(s[1],h[d]),h[d]=Math.max(s[0],h[d]);var u=(r[1]+r[0])/2,p=[u,u];p[d]=h[d];return{position:h,rotation:t.rotation,cursorPoint:p,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}});function l(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var d={line:function(t,e,i){return{type:"Line",subPixelOptimize:!0,shape:n.makeLineShape([e,i[0]],[e,i[1]],h(t))}},shadow:function(t,e,i){var o=Math.max(1,t.getBandWidth()),a=i[1]-i[0];return{type:"Rect",shape:n.makeRectShape([e-o/2,i[0]],[o,a],h(t))}}};function h(t){return"x"===t.dim?0:1}s.registerAxisPointerClass("CartesianAxisPointer",r);var u=r;t.exports=u},328:function(t,e,i){var o=i(118),n=i(133),a=i(120),s=i(157),r=i(134),l=i(154),d=(0,i(121).makeInner)(),h=o.clone,u=o.bind;function p(){}function c(t,e,i,n){(function t(e,i){if(o.isObject(e)&&o.isObject(i)){var n=!0;return o.each(i,(function(i,o){n=n&&t(e[o],i)})),!!n}return e===i})(d(i).lastProp,n)||(d(i).lastProp=n,e?a.updateProps(i,n,t):(i.stopAnimation(),i.attr(n)))}function f(t,e){t[e.get("label.show")?"show":"hide"]()}function g(t){return{position:t.position.slice(),rotation:t.rotation||0}}function x(t,e,i){var o=e.get("z"),n=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=o&&(t.z=o),null!=n&&(t.zlevel=n),t.silent=i)}))}p.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,n){var s=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==s||this._lastStatus!==r){this._lastValue=s,this._lastStatus=r;var l=this._group,d=this._handle;if(!r||"hide"===r)return l&&l.hide(),void(d&&d.hide());l&&l.show(),d&&d.show();var h={};this.makeElOption(h,s,t,e,i);var u=h.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var p=this._moveAnimation=this.determineAnimation(t,e);if(l){var f=o.curry(c,e,p);this.updatePointerEl(l,h,f,e),this.updateLabelEl(l,h,f,e)}else l=this._group=new a.Group,this.createPointerEl(l,h,t,e),this.createLabelEl(l,h,t,e),i.getZr().add(l);x(l,e,!0),this._renderHandle(s)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get("animation"),o=t.axis,n="category"===o.type,a=e.get("snap");if(!a&&!n)return!1;if("auto"===i||null==i){var r=this.animationThreshold;if(n&&o.getBandWidth()>r)return!0;if(a){var l=s.getAxisInfo(t).seriesDataCount,d=o.getExtent();return Math.abs(d[0]-d[1])/l>r}return!1}return!0===i},makeElOption:function(t,e,i,o,n){},createPointerEl:function(t,e,i,o){var n=e.pointer;if(n){var s=d(t).pointerEl=new a[n.type](h(e.pointer));t.add(s)}},createLabelEl:function(t,e,i,o){if(e.label){var n=d(t).labelEl=new a.Rect(h(e.label));t.add(n),f(n,o)}},updatePointerEl:function(t,e,i){var o=d(t).pointerEl;o&&e.pointer&&(o.setStyle(e.pointer.style),i(o,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,o){var n=d(t).labelEl;n&&(n.setStyle(e.label.style),i(n,{shape:e.label.shape,position:e.label.position}),f(n,o))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),s=this._handle,d=i.getModel("handle"),h=i.get("status");if(!d.get("show")||!h||"hide"===h)return s&&n.remove(s),void(this._handle=null);this._handle||(e=!0,s=this._handle=a.createIcon(d.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){r.stop(t.event)},onmousedown:u(this._onHandleDragMove,this,0,0),drift:u(this._onHandleDragMove,this),ondragend:u(this._onHandleDragEnd,this)}),n.add(s)),x(s,i,!1);s.setStyle(d.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var p=d.get("size");o.isArray(p)||(p=[p,p]),s.attr("scale",[p[0]/2,p[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",d.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){c(this._axisPointerModel,!e&&this._moveAnimation,this._handle,g(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var o=this.updateHandleTransform(g(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=o,i.stopAnimation(),i.attr(g(o)),d(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,o=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),o&&e.remove(o),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}}},p.prototype.constructor=p,n.enableClassExtend(p);var m=p;t.exports=m},329:function(t,e,i){var o=i(119).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});t.exports=o},330:function(t,e,i){var o=i(119),n=i(118),a=i(124),s=i(331),r=i(332),l=i(128),d=i(123),h=i(120),u=i(224),p=i(130),c=i(129),f=i(225),g=i(144),x=i(226),m=i(121).getTooltipRenderMode,v=n.bind,y=n.each,_=d.parsePercent,w=new h.Rect({shape:{x:-1,y:-1,width:2,height:2}}),b=o.extendComponentView({type:"tooltip",init:function(t,e){if(!a.node){var i,o=t.getComponent("tooltip"),n=o.get("renderMode");this._renderMode=m(n),"html"===this._renderMode?(i=new s(e.getDom(),e,{appendToBody:o.get("appendToBody",!0)}),this._newLine="<br/>"):(i=new r(e),this._newLine="\n"),this._tooltipContent=i}},render:function(t,e,i){if(!a.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var o=this._tooltipContent;o.update(),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");f.register("itemTooltip",this._api,v((function(e,i,o){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,o):"leave"===e&&this._hide(o))}),this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&o.manuallyShowTip(t,e,i,{x:o._lastX,y:o._lastY})}))}},manuallyShowTip:function(t,e,i,o){if(o.from!==this.uid&&!a.node){var n=I(o,i);this._ticket="";var s=o.dataByCoordSys;if(o.tooltip&&null!=o.x&&null!=o.y){var r=w;r.position=[o.x,o.y],r.update(),r.tooltip=o.tooltip,this._tryShow({offsetX:o.x,offsetY:o.y,target:r},n)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:o.dataByCoordSys,tooltipOption:o.tooltipOption},n);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,o))return;var l=u(o,e),d=l.point[0],h=l.point[1];null!=d&&null!=h&&this._tryShow({offsetX:d,offsetY:h,position:o.position,target:l.el},n)}else null!=o.x&&null!=o.y&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},n))}},manuallyHideTip:function(t,e,i,o){var n=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,o.from!==this.uid&&this._hide(I(o,i))},_manuallyAxisShowTip:function(t,e,i,o){var n=o.seriesIndex,a=o.dataIndex,s=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=a&&null!=s){var r=e.getSeriesByIndex(n);if(r)if("axis"===(t=T([r.getData().getItemModel(a),r,(r.coordinateSystem||{}).model,t])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:a,position:o.position}),!0}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;o&&o.length?this._showAxisTooltip(o,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get("showDelay");e=n.bind(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var i=this._ecModel,o=this._tooltipModel,a=[e.offsetX,e.offsetY],s=[],r=[],d=T([e.tooltipOption,o]),h=this._renderMode,u=this._newLine,p={};y(t,(function(t){y(t.dataByAxis,(function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),o=t.value,a=[];if(e&&null!=o){var d=x.getValueLabel(o,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);n.each(t.seriesDataIndices,(function(s){var l=i.getSeriesByIndex(s.seriesIndex),u=s.dataIndexInside,c=l&&l.getDataParams(u);if(c.axisDim=t.axisDim,c.axisIndex=t.axisIndex,c.axisType=t.axisType,c.axisId=t.axisId,c.axisValue=g.getAxisRawValue(e.axis,o),c.axisValueLabel=d,c){r.push(c);var f,x=l.formatTooltip(u,!0,null,h);if(n.isObject(x)){f=x.html;var m=x.markers;n.merge(p,m)}else f=x;a.push(f)}}));var c=d;"html"!==h?s.push(a.join(u)):s.push((c?l.encodeHTML(c)+u:"")+a.join(u))}}))}),this),s.reverse(),s=s.join(this._newLine+this._newLine);var c=e.position;this._showOrMove(d,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(d,c,a[0],a[1],this._tooltipContent,r):this._showTooltipContent(d,s,r,Math.random(),a[0],a[1],c,void 0,p)}))},_showSeriesItemTooltip:function(t,e,i){var o=this._ecModel,a=e.seriesIndex,s=o.getSeriesByIndex(a),r=e.dataModel||s,l=e.dataIndex,d=e.dataType,h=r.getData(),u=T([h.getItemModel(l),r,s&&(s.coordinateSystem||{}).model,this._tooltipModel]),p=u.get("trigger");if(null==p||"item"===p){var c,f,g=r.getDataParams(l,d),x=r.formatTooltip(l,!1,d,this._renderMode);n.isObject(x)?(c=x.html,f=x.markers):(c=x,f=null);var m="item_"+r.name+"_"+l;this._showOrMove(u,(function(){this._showTooltipContent(u,c,g,m,t.offsetX,t.offsetY,t.position,t.target,f)})),i({type:"showTip",dataIndexInside:l,dataIndex:h.getRawIndex(l),seriesIndex:a,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var o=e.tooltip;if("string"===typeof o){o={content:o,formatter:o}}var n=new c(o,this._tooltipModel,this._ecModel),a=n.get("content"),s=Math.random();this._showOrMove(n,(function(){this._showTooltipContent(n,a,n.get("formatterParams")||{},s,t.offsetX,t.offsetY,t.position,e)})),i({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,i,o,n,a,s,r,d){if(this._ticket="",t.get("showContent")&&t.get("show")){var h=this._tooltipContent,u=t.get("formatter");s=s||t.get("position");var p=e;if(u&&"string"===typeof u)p=l.formatTpl(u,i,!0);else if("function"===typeof u){var c=v((function(e,o){e===this._ticket&&(h.setContent(o,d,t),this._updatePosition(t,s,n,a,h,i,r))}),this);this._ticket=o,p=u(i,o,c)}h.setContent(p,d,t),h.show(t),this._updatePosition(t,s,n,a,h,i,r)}},_updatePosition:function(t,e,i,o,a,s,r){var l=this._api.getWidth(),d=this._api.getHeight();e=e||t.get("position");var h=a.getSize(),u=t.get("align"),c=t.get("verticalAlign"),f=r&&r.getBoundingRect().clone();if(r&&f.applyTransform(r.transform),"function"===typeof e&&(e=e([i,o],s,a.el,f,{viewSize:[l,d],contentSize:h.slice()})),n.isArray(e))i=_(e[0],l),o=_(e[1],d);else if(n.isObject(e)){e.width=h[0],e.height=h[1];var g=p.getLayoutRect(e,{width:l,height:d});i=g.x,o=g.y,u=null,c=null}else if("string"===typeof e&&r){var x=function(t,e,i){var o=i[0],n=i[1],a=0,s=0,r=e.width,l=e.height;switch(t){case"inside":a=e.x+r/2-o/2,s=e.y+l/2-n/2;break;case"top":a=e.x+r/2-o/2,s=e.y-n-5;break;case"bottom":a=e.x+r/2-o/2,s=e.y+l+5;break;case"left":a=e.x-o-5,s=e.y+l/2-n/2;break;case"right":a=e.x+r+5,s=e.y+l/2-n/2}return[a,s]}(e,f,h);i=x[0],o=x[1]}else{x=function(t,e,i,o,n,a,s){var r=i.getOuterSize(),l=r.width,d=r.height;null!=a&&(t+l+a>o?t-=l+a:t+=a);null!=s&&(e+d+s>n?e-=d+s:e+=s);return[t,e]}(i,o,a,l,d,u?null:20,c?null:20);i=x[0],o=x[1]}if(u&&(i-=C(u)?h[0]/2:"right"===u?h[0]:0),c&&(o-=C(c)?h[1]/2:"bottom"===c?h[1]:0),t.get("confine")){x=function(t,e,i,o,n){var a=i.getOuterSize(),s=a.width,r=a.height;return t=Math.min(t+s,o)-s,e=Math.min(e+r,n)-r,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(i,o,a,l,d);i=x[0],o=x[1]}a.moveTo(i,o)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return i&&y(e,(function(e,o){var n=e.dataByAxis||{},a=(t[o]||{}).dataByAxis||[];(i&=n.length===a.length)&&y(n,(function(t,e){var o=a[e]||{},n=t.seriesDataIndices||[],s=o.seriesDataIndices||[];(i&=t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&n.length===s.length)&&y(n,(function(t,e){var o=s[e];i&=t.seriesIndex===o.seriesIndex&&t.dataIndex===o.dataIndex}))}))})),this._lastDataByCoordSys=t,!!i},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){a.node||(this._tooltipContent.dispose(),f.unregister("itemTooltip",e))}});function T(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(c.isInstance(i)&&(i=i.get("tooltip",!0)),"string"===typeof i&&(i={formatter:i}),e=new c(i,e,e.ecModel))}return e}function I(t,e){return t.dispatchAction||n.bind(e.dispatchAction,e)}function C(t){return"center"===t||"middle"===t}t.exports=b},331:function(t,e,i){var o=i(118),n=i(145),a=i(134),s=i(181),r=i(124),l=i(128),d=o.each,h=l.toCamelCase,u=["","-webkit-","-moz-","-o-"];function p(t){var e=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),s=t.getModel("textStyle"),p=t.get("padding");return i&&e.push(function(t){var e="left "+t+"s cubic-bezier(0.23, 1, 0.32, 1),top "+t+"s cubic-bezier(0.23, 1, 0.32, 1)";return o.map(u,(function(t){return t+"transition:"+e})).join(";")}(i)),a&&(r.canvasSupported?e.push("background-Color:"+a):(e.push("background-Color:#"+n.toHex(a)),e.push("filter:alpha(opacity=70)"))),d(["width","color","radius"],(function(i){var o="border-"+i,n=h(o),a=t.get(n);null!=a&&e.push(o+":"+a+("color"===i?"":"px"))})),e.push(function(t){var e=[],i=t.get("fontSize"),o=t.getTextColor();return o&&e.push("color:"+o),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px"),d(["decoration","align"],(function(i){var o=t.get(i);o&&e.push("text-"+i+":"+o)})),e.join(";")}(s)),null!=p&&e.push("padding:"+l.normalizeCssArray(p).join("px ")+"px"),e.join(";")+";"}function c(t,e,i,o,n){var a=e&&e.painter;if(i){var r=a&&a.getViewportRoot();r&&s.transformLocalCoord(t,r,document.body,o,n)}else{t[0]=o,t[1]=n;var l=a&&a.getViewportRootOffset();l&&(t[0]+=l.offsetLeft,t[1]+=l.offsetTop)}}function f(t,e,i){if(r.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var n=this._zr=e.getZr(),s=this._appendToBody=i&&i.appendToBody;this._styleCoord=[0,0],c(this._styleCoord,n,s,e.getWidth()/2,e.getHeight()/2),s?document.body.appendChild(o):t.appendChild(o),this._container=t,this._show=!1,this._hideTimeout;var l=this;o.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},o.onmousemove=function(t){if(t=t||window.event,!l._enterable){var e=n.handler,i=n.painter.getViewportRoot();a.normalizeEvent(i,t,!0),e.dispatch("mousemove",t)}},o.onmouseleave=function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}}f.prototype={constructor:f,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,i=this._styleCoord;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+p(t)+";left:"+i[0]+"px;top:"+i[1]+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i=this._styleCoord;c(i,this._zr,this._appendToBody,t,e);var o=this.el.style;o.left=i[0]+"px",o.top=i[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(o.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);i&&(t+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),e+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:e}}};var g=f;t.exports=g},332:function(t,e,i){var o=i(118),n=i(162);function a(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}a.prototype={constructor:a,_enterable:!0,update:function(){},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,i){this.el&&this._zr.remove(this.el);for(var o={},a=t,s=a.indexOf("{marker");s>=0;){var r=a.indexOf("|}"),l=a.substr(s+"{marker".length,r-s-"{marker".length);l.indexOf("sub")>-1?o["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[l],textOffset:[3,0]}:o["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[l]},s=(a=a.substr(r+1)).indexOf("{marker")}this.el=new n({style:{rich:o,text:t,textLineHeight:20,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding")},z:i.get("z")}),this._zr.add(this.el);var d=this;this.el.on("mouseover",(function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0})),this.el.on("mouseout",(function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1}))},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el&&this.el.attr("position",[t,e])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(o.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var s=a;t.exports=s},359:function(t,e,i){var o=i(119);i(323),i(329),i(330),o.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),o.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))}}]);