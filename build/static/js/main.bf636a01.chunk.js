(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,a){e.exports=a(399)},263:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){},398:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var n=a(5),l=a(0),r=a.n(l),c=a(187),i=a.n(c),o=a(3),s=a(29),m=r.a.createContext({}),u=a(188),p=a.n(u),d=a(189),f=a.n(d),h={"(name)":"\u540d\u79f0","(desc)":"\u63cf\u8ff0","(cate)":"\u5206\u7c7b","(shop)":"\u5546\u5bb6","(show)":"\u663e\u793a","(price|sale)":"\u4ef7\u683c","(url|link)":"\u94fe\u63a5","(product)":"\u5546\u54c1","(hot)":"\u70ed\u5ea6","(order)":"\u6392\u5e8f","(image|img|pic)":"\u56fe\u7247","(state|status)":"\u72b6\u6001","(start)":"\u5f00\u59cb\u65f6\u95f4","(end)":"\u7ed3\u675f\u65f6\u95f4","(time|datetime)":"\u65f6\u95f4","(date)":"\u65e5\u671f","(range)":"\u8303\u56f4","(focus)":"\u7126\u70b9\u56fe","(comment)":"\u8bc4\u8bba","(num)":"\u6570\u91cf","(color)":"\u989c\u8272","(game)":"\u6e38\u620f","(pay|buy)":"\u652f\u4ed8","(amt|amount)":"\u91d1\u989d","(detail)":"\u8be6\u60c5","(click)":"\u70b9\u51fb","(rank)":"\u6392\u884c"},E=function(e){for(var t in h)if(new RegExp(t,"i").test(e))return h[t];return e},b=function(e){return"object"==typeof e?"[object Array]"===toString.call(e)?"array":"object":typeof e},g={number:function(e){return{type:"number",format:"number",title:E(e),options:{grid_columns:3}}},boolean:function(e){return{type:"boolean",title:E(e),options:{grid_columns:3}}},string:function(e,t){var a={type:"string"};switch(a.title=E(e),a.format="text",a.options={grid_columns:3},!0){case/\.(jpe?g|png|gif)$/.test(t):a.format="upload",a.links=[{rel:"",href:"{{self}}",mediaType:"image"}];break;case/\.(exe|swf|zip|rar|docx?|pptx?|xlsx?)$/.test(t):a.format="upload",a.download=!0;break;case/\.mp4$/.test(t):a.format="upload",a.links=[{rel:"",href:"{{self}}",mediaType:"video/mp4"}];break;case/^[12]\d{3}-\d{2}-\d{2} [\d:]{8}$/.test(t):a.format="datetime-local",a.options.flatpickr={wrap:!0,showClearButton:!0,time_24hr:!0,allowInput:!1};break;default:a.format="text"}return a},object:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};for(var l in n.title=E(e),n.type="object",n.format="grid",n.properties={},n.options=a,t)n.properties[l]=g[b(t[l])](l,t[l]);return n},array:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={type:"array"};return n.title=E(e),n.items={},n.options=a,void 0!==t[0]&&(n.items=g[b(t[0])](e,t[0])),n}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u8868\u5355\u6807\u9898";try{var a="string"==typeof e?JSON.parse(e):e;return g[b(a)](t,a,{disable_collapse:!0})}catch(n){return console.warn(n),{title:"\u6570\u636e\u89e3\u6790\u51fa\u9519\uff0c\u8bf7\u8fd4\u56de\u91cd\u8bd5",properties:{}}}},y=a(24);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var w=window.JSONEditor;w.defaults.resolvers.unshift(function(e){if("string"===e.type&&"upload"===e.format)return"uploadFile"}),w.defaults.editors.uploadFile=w.AbstractEditor.extend({build:function(){var e=this,t=function(){var e=document.createElement("button");return e.type="button",e.className="btn btn-light",e.innerHTML=['<input type="file" style="position:absolute;opacity:0;left:0;top:0;bottom:0;width:40px" />','<i class="fas fa-cloud-upload-alt"></i>'].join(""),e}();this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("text"),this.inputGroup=this.theme.getInputGroup(this.input,[t]),this.progress=function(){var e=document.createElement("div");return e.style=["transition: all .5s;position:absolute;left:0;bottom:0px;z-index:9;","height:2px;background:#007bff;border-radius:1px;width:0"].join(""),e}(),this.inputGroup.insertBefore(this.progress,t.parentNode),this.control=this.theme.getFormControl(this.label,this.inputGroup,this.description,this.infoButton),this.container.appendChild(this.control),this.input.value=this.value,this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.is_dirty=!0,e.refreshValue(),e.onChange(!0)}),t.firstChild.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),this.files&&this.files.length&&e.uploadFile(this.files[0])}),t.parentNode.className="input-group-append",this.input.parentNode.style.marginBottom="10px"},uploadFile:function(e){var t=window.formUploader||window.fileUploader;if(t){var a=this;t(e,a.path,{progress:function(e){a.progress.style.opacity="1",a.progress.style.width="".concat(e,"%")},success:function(e){a.progress.style.width="100%",a.progress.style.opacity="0",setTimeout(function(){a.progress.style.width="0"},600),a.setValue(e)},fail:function(e){a.progress.style.width="0",alert(e)}})}},setValue:function(e){this.value!==e&&(this.value=e,this.input.value=this.value,this.onChange())},refreshValue:function(){this.value=this.input.value,"string"!==typeof this.value&&(this.value=""),this.serialized=this.value},sanitize:function(e){return e}});var O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return w&&e?(w.defaults.theme="bootstrap4",w.defaults.options.iconlib="fontawesome5",w.plugins.ace.theme="monokai",w.plugins.choices={shouldSort:!1},w.plugins.sceditor.style="/lib/sceditor/content.min.css",w.plugins.sceditor.plugins="dragdrop",w.plugins.sceditor.emoticonsEnabled=!1,w.plugins.sceditor.icons="monocons",w.plugins.sceditor.height=400,w.plugins.sceditor.toolbar=["bold,italic,underline","font,size,color,removeformat","left,center,right,justify","bulletlist,orderedlist,table,code,quote","image,link,unlink","maximize,source"].join("|"),w.plugins.sceditor.dragdrop={allowedTypes:["image/jpeg","image/png","image/gif"],handleFile:function(e,t){var a=window.formUploader||window.fileUploader;if(a){var n=t();a(e,"wysiwyg",{success:function(e){n.insert('<img src="'.concat(e,'" />'))},progress:function(e){console.log(e)},fail:function(e){n.cancel(),alert(e)}})}}},window._JsonEditor_=new w(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({disable_edit_json:!0,disable_properties:!0},a,{schema:t}))):null},j=document.createElement("div");j.className="popup-mask";var k={show:window.popupShow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:750,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;if(!e)return alert("\u7f3a\u5c11\u5fc5\u8981\u53c2\u6570");var n=/^http/.test(e);j.innerHTML=n?function(e,t,a){return'\n<div class="popup-main" style="width:'.concat(t,"px;height:").concat(a,'px">\n  <div class="popup-hide" onClick="window.popupHide()" title="\u5173\u95ed"><i class="fas fa-times"></i></div>\n  <iframe src="').concat(e,'" frameborder="0" style="width:100%;height:100%;border:none"></iframe>\n</div>\n')}(e,t,a):function(e,t,a){return'\n<div class="popup-main" style="width:'.concat(t,"px;height:").concat(a,'px">\n<div class="popup-hide" onClick="window.popupHide()" title="\u5173\u95ed"><i class="fas fa-times"></i></div>\n  <div class="popup-box">').concat(e,"</div>\n</div>\n")}(e,t,a),document.body.appendChild(j)},hide:window.popupHide=function(){document.body.removeChild(j)}},x=function(e){var t={};return e||(e=window.location.search),e.length<2?null:(e.replace(/^\?/,"").split("&").forEach(function(e){var a=e.split("=");t[a[0]]=a[1]}),t)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e="GET"===e.toUpperCase()?"get":"post",a="post"===e?f.a.stringify(a):{params:a},new Promise(function(n,l){p.a[e](t,a).then(function(e){var t=e.data;0===t.code?n(t):l(t)}).catch(function(e){l({code:-1,msg:String(e),data:null})})})},S=function(e){var t=document.createElement("div");t.className="lego-toast",t.innerHTML=e,document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},3e3)},C=function(e){var t=document.createElement("script"),a="ext_"+Date.now().toString(16);return t.innerHTML="window.".concat(a," = (function () {\n    try {\n      ").concat(e,"\n    } catch (err) { console.warn('ExtJs Error -', err) }\n  })()"),document.body.appendChild(t),[a,t]},P=function(e,t){var a=x()||{};return t&&(a=Object.assign(a,t)),e.replace(/\{\{[^}]+\}\}/g,function(e){var t=e.slice(2,-2);return"".concat(a[t]||"")})},T=function(e,t){if(e&&0!==t.length){t=0===t.indexOf(".")?t:".".concat(t);for(var a=Object.assign({},e),n=t.match(/\.{1,2}[^.]+/g),l=function(e){var t=n[e],l=t.replace(/\./g,"");if(0===t.indexOf("..")){if(!Array.isArray(a))return{v:void 0};a=a.map(function(e){return e[l]})}else{if(!a||!a.hasOwnProperty(l))return{v:void 0};a=a[l]}},r=0;r<n.length;r++){var c=l(r);if("object"===typeof c)return c.v}return a}},R=function(e,t){if("root"===t)return e;for(var a=Object.assign({},e),n=t.split(".").slice(1),l=0,r=n.length;l<r;l++)"object"===a.type?a=a.properties[n[l]]:"array"===a.type&&(a=a.items);return a},J=function(e,t,a){if("root"===t)return a;for(var n=t.split(".").slice(1),l=0,r=n.length-1;l<r;l++)"object"===e.type?e=e.properties[n[l]]:"array"===e.type&&(e=e.items);e.properties[n[l]]=a},I=window.self!==window.top,U=function(e){var t=e.children,a=e.title,n=void 0===a?"":a,c=e.loading,i=void 0!==c&&c,o=Object(l.useContext)(m).mode;return r.a.createElement("div",{className:"wrap"},n.length>0&&r.a.createElement("div",{className:"sitepath"},n),r.a.createElement("div",{className:"main-content"+("standalone"!==o||I?" main-content-embedded":""),style:{padding:I?0:null}},i?r.a.createElement("div",{className:"lego-card"},"loading..."):t))},L=function(e){var t=e.mode;return r.a.createElement("nav",{className:"frame-nav"+("standalone"===t?"":" frame-nav-fixed")},r.a.createElement("div",{className:"nav-right"},r.a.createElement("div",{className:"nav-item"},r.a.createElement(o.b,{to:"/setting"},r.a.createElement("i",{className:"fas fa-cog"}),r.a.createElement("span",null,"\u7cfb\u7edf\u8bbe\u7f6e"))),r.a.createElement("div",{className:"nav-item"},r.a.createElement(o.b,{to:"/chart/list"},r.a.createElement("i",{className:"fas fa-chart-line"}),r.a.createElement("span",null,"\u56fe\u8868\u7ba1\u7406"))),r.a.createElement("div",{className:"nav-item"},r.a.createElement(o.b,{to:"/table/list"},r.a.createElement("i",{className:"fas fa-table"}),r.a.createElement("span",null,"\u5217\u8868\u7ba1\u7406"))),r.a.createElement("div",{className:"nav-item"},r.a.createElement(o.b,{to:"/form/list"},r.a.createElement("i",{className:"fas fa-th-list"}),r.a.createElement("span",null,"\u8868\u5355\u7ba1\u7406")))))},A=function(){var e=Object(l.useContext)(m),t=Object(l.useState)(null),a=Object(n.a)(t,2),c=a[0],i=a[1],s=["edit","laptop","gem","th-list","newspaper","map","network-wired","desktop","list","parachute-box","microsoft","paper-plane","cube"],u=function(e){var t=e.idx;return e.to?r.a.createElement(o.c,{className:"link",activeClassName:"active",to:e.to,onClick:function(){return i(c===t?null:t)}},e.children):r.a.createElement("div",{className:"link"+(c===t?" active":""),onClick:function(){return i(c===t?null:t)}},e.children)};return r.a.createElement("aside",{className:"frame-aside"},r.a.createElement("h1",{className:e.name?"name-show":""},r.a.createElement(o.b,{to:"/"},r.a.createElement("i",{className:"fas fa-cubes"}),r.a.createElement("span",null,e.name||""))),r.a.createElement("ul",{className:"side-menu"},function(){try{return JSON.parse(e.sideMenu)}catch(t){return[]}}().map(function(e,t){return r.a.createElement("li",{className:"item-v1",key:t},r.a.createElement(u,{idx:t,to:e.url},r.a.createElement("i",{className:"icon fas fa-"+(e.icon||s[t])}),r.a.createElement("span",null,e.name),r.a.createElement("i",{className:"arr fas fa-chevron-down"})),e.sub&&(a=e.sub,n=t,r.a.createElement("ul",{className:"sub-list",style:{height:(c===n?40*a.length:0)+"px"}},a.map(function(e,t){return r.a.createElement("li",{className:"item-v2",key:t},r.a.createElement(o.c,{activeClassName:"active",to:e.url||"",isActive:function(t,a){var l=!!t;return l||e.url&&"/"!==a.pathname&&(l=e.url===a.pathname+a.search),l&&null===c&&i(n),l}},e.name))}))));var a,n})))},F=a(194);a(262),a(263);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var G=["file-alt","podcast","paper-plane","database","columns","cube"],V=Object(s.f)(function(e){var t=e.config,a=t&&t.base&&t.cols,c=Object(l.useContext)(m),i=(window.location.search.match(/pageNo=(\d+)/)||[]).pop()||1,o=Object(l.useState)([]),s=Object(n.a)(o,2),u=s[0],p=s[1],d=Object(l.useState)(!0),f=Object(n.a)(d,2),h=f[0],E=f[1],b=Object(l.useState)(""),g=Object(n.a)(b,2),v=g[0],N=g[1],w=Object(l.useState)({}),O=Object(n.a)(w,2),j=O[0],x=O[1],C=Object(l.useState)(null),R=Object(n.a)(C,2),J=R[0],I=R[1],U=Object(l.useState)(i),L=Object(n.a)(U,2),A=L[0],V=L[1],z=Object(l.useState)(!0),M=Object(n.a)(z,2),H=M[0],q=M[1];if(Object(l.useEffect)(function(){if(a&&void 0!==c.baseUrl){var e=(/^(http|\/\/)/.test(t.base.api)?"":c.baseUrl)+t.base.api;return _("GET",P(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({sort:v},j,{pageNo:A}))).then(function(e){E(!1),p(T(e,t.base.path)||[]);var a=window.__pageFix__||function(){};I(a(e.data)||e.data.page),document.querySelector(".main-content").scrollTop=0}).catch(function(e){S("\u52a0\u8f7d\u5931\u8d25"),console.log(e)}),function(){delete window.__colFix__,delete window.__pageFix__}}},[a,c.baseUrl,t.base,v,j,A,H]),!a)return r.a.createElement("div",null,"data or config error...");var B=t.cols,$=void 0===B?[]:B,Z=t.handles,K=void 0===Z?[]:Z,Q=K.length>0,W=$.filter(function(e){return-1!==e.fn.indexOf("search")});return r.a.createElement("div",null,W.length>0&&r.a.createElement("div",{className:"search-row clearfix"},W.map(function(e){return r.a.createElement("input",{key:e.key,name:"search_".concat(e.key),className:"form-control",placeholder:"\u8f93\u5165".concat(e.name)})}),r.a.createElement("button",{onClick:function(){var e={};document.querySelectorAll(".search-row .form-control").forEach(function(t){e[t.name.slice(7)]=t.value}),x(e)},className:"btn btn-sm btn-success"},"\u67e5\u8be2")),r.a.createElement("table",{className:"table-list"},r.a.createElement("thead",{className:"table-thead"},r.a.createElement("tr",null,$.map(function(e){var t=e.key,a=!1,n="sort";if(/sort/.test(e.fn))switch(a=!0,v){case"".concat(t,"-asc"):n="caret-up";break;case"".concat(t,"-desc"):n="caret-down";break;default:n="sort"}return r.a.createElement("th",{className:"table-th"+(a?" th-sort":""),key:t,width:e.width?e.width:void 0,onClick:function(){a&&N(v==="".concat(t,"-desc")?"".concat(t,"-asc"):"".concat(t,"-desc"))}},r.a.createElement("span",null,e.name||t),a&&r.a.createElement("em",{title:"\u6392\u5e8f",className:"fas fa-"+n}))}),Q&&r.a.createElement("th",{width:80*K.length},"\u64cd\u4f5c"))),r.a.createElement("tbody",{className:"table-tbody"},0===u.length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:$.length+(Q?1:0)},h?"\u52a0\u8f7d\u4e2d...":"\u6682\u65e0\u6570\u636e")):u.map(function(t,a){return r.a.createElement("tr",{key:a},$.map(function(e){var a=t[e.key]||"--";return"function"===typeof window.__colFix__&&(a=window.__colFix__(e.key,a,t)||a),r.a.createElement("td",{key:e.key,dangerouslySetInnerHTML:{__html:a}})}),Q&&r.a.createElement("td",null,K.map(function(a,n){return r.a.createElement("span",{onClick:function(){return function(t,a){var n=P(a.url,t);switch(n=P(n,t),a.action){case"open":window.open(n);break;case"link":/^http|\/\//.test(n)?window.location.assign(n):e.history.push(n);break;case"api":n=/^(http|\/\/)/.test(n)?n:c.baseUrl+n,window.confirm("\u662f\u5426".concat(a.name).concat(t.name?" ["+t.name+"] ":"","\uff1f"))&&_("POST",n).then(function(e){S("".concat(a.name,"\u6210\u529f")),setTimeout(function(){return q(!H)},1500),console.log(e)}).catch(function(e){S("".concat(a.name,"\u5931\u8d25\n").concat(String(e))),console.warn(e)});break;case"popup":k.show(n);break;default:console.log(a)}}(t,a)},key:n,className:"handle"},r.a.createElement("i",{className:"fas fa-"+(a.icon||G[n])}),r.a.createElement("em",null,a.name))})))}))),J&&J.total>J.pageSize&&r.a.createElement("div",{className:"pages"},r.a.createElement(F.a,{onChange:function(e){return V(e)},total:J.total||0,showTotal:function(e){return"\u5171".concat(e,"\u6761\u6570\u636e")},pageSize:J.pageSize||20,defaultCurrent:+A,prevIcon:r.a.createElement("i",{className:"fas fa-chevron-left"}),nextIcon:r.a.createElement("i",{className:"fas fa-chevron-right"})})))}),z=a(4),M=a.n(z),H=(a(322),a(337),a(346),a(356),a(367),a(368),a(388),a(393),function(e){var t=e.config,a=Object(l.useRef)([]),n=Object(l.useRef)([]),c=Object(l.useContext)(m),i=Object(l.useCallback)(function(e,t,a){_("GET",P(t)).then(function(t){var n={title:{text:a.name,textStyle:{color:"#369",fontSize:16}},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},toolbox:function(){var e={};return a.toolbox.forEach(function(t){e[t]={},"magicType"===t&&(e.magicType.type=["line","bar","tiled"],e.restore={})}),{feature:e}}(),legend:{data:a.series.map(function(e){return e.name})},xAxis:{data:a.xAxis.indexOf(",")>0?a.xAxis.split(","):T(t,a.xAxis)},yAxis:{},series:a.series.map(function(e){var a=e.name,n=e.type,l=e.label,r=e.path;return{name:a,type:n,label:{show:"1"===l,position:"top"},itemStyle:{color:e.color},data:T(t,r)}})};e.setOption(n)})},[]);return Object(l.useEffect)(function(){var e=c.baseUrl;if(t&&void 0!==e){var l={};return t.list.forEach(function(r,c){var o=a.current[c],s=n.current[c]=M.a.init(o,t.theme),m=(/^(http|\/\/)/.test(r.api)?"":e)+r.api;l["start_".concat(c)]=setTimeout(function(){i(s,m,r),r.refresh>0&&(l["refresh_".concat(c)]=setInterval(function(){i(s,m,r)},1e3*r.refresh))},200*c)}),function(){Object.keys(l).forEach(function(e){(/^start/.test(e)?clearTimeout:clearInterval)(l[e])})}}},[t,c.baseUrl,i]),r.a.createElement("div",{className:"charts-title"},r.a.createElement("h2",{className:"title"},t.name,r.a.createElement("span",{className:"desc"},t.desc)),r.a.createElement("div",{className:"row"},t.list.map(function(e,t){return r.a.createElement("div",{key:t,className:"col-md-".concat(e.grid)},r.a.createElement("div",{className:"chart-container",style:{height:e.height},ref:function(e){return a.current[t]=e}}))})))}),q=function(e){var t=e.value,a=e.extClass,n=e.onClick,l=["btn","btn-sm"];return a&&(l=l.concat(a.split(" "))),r.a.createElement("button",{className:l.join(" "),onClick:n},t)},B=function(e){var t=e.schema,a=e.onUpdate,c=Object(l.useState)(t),i=Object(n.a)(c,2),o=i[0],s=i[1],m=Object(l.useRef)(null),u=Object(l.useRef)(null);return Object(l.useLayoutEffect)(function(){return u.current=new window.Choices("#formTypeSelect",{position:"bottom",shouldSort:!1}),function(){u.current.destroy()}},[]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label"},"\u8868\u5355\u7c7b\u578b"),r.a.createElement("select",{id:"formTypeSelect",className:"form-control",value:o.format,onChange:function(e){var t=e.target.value,a={title:o.title,type:"string",format:t,options:{grid_columns:o.options.grid_columns}};switch(t){case"number":a.type="number";break;case"boolean":a.type="boolean";break;case"range":a.type="number",a.minimum=1,a.maximum=100,a.step=2;break;case"select":a.type="string",a.enum=["item1","item2","item3","item4"],a.options.enum_titles=["\u9009\u98791","\u9009\u98792","\u9009\u98793","\u9009\u98794"];break;case"datetime-local":a.type="string",a.options.flatpickr={wrap:!0,showClearButton:!0,time_24hr:!0,allowInput:!1};break;case"upload":a.type="string",a.links=[{rel:"view",href:"{{self}}",mediaType:"image"}];break;case"html":a.type="string",a.options.wysiwyg=!0;break;default:a.type="string"}s(a)}},r.a.createElement("option",{value:"text"},"\u5355\u884c\u6587\u672c"),r.a.createElement("option",{value:"textarea"},"\u591a\u884c\u6587\u672c"),r.a.createElement("option",{value:"number"},"\u6570\u503c"),r.a.createElement("option",{value:"boolean"},"\u5e03\u5c14\u503c"),r.a.createElement("option",{value:"password"},"\u5bc6\u7801"),r.a.createElement("option",{value:"datetime-local"},"\u65f6\u95f4"),r.a.createElement("option",{value:"upload"},"\u56fe\u7247"),r.a.createElement("option",{value:"url"},"\u7f51\u5740"),r.a.createElement("option",{value:"select"},"\u4e0b\u62c9\u6846"),r.a.createElement("option",{value:"range"},"\u6ed1\u52a8\u6761"),r.a.createElement("option",{value:"html"},"\u5bcc\u6587\u672c\u7f16\u8f91\u5668")))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label"},"Grid"),r.a.createElement("input",{className:"form-control",type:"number",min:"3",max:"12",onChange:function(e){var t=e.target.value,a=Object.assign({},o);a.options.grid_columns=+t,s(a)},value:o.options.grid_columns}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group",style:{height:200}},r.a.createElement(Z,{type:"json",code:JSON.stringify(o,null,2),onReady:function(e){return m.current=e}}))),r.a.createElement("div",{className:"col-md-12",style:{textAlign:"right"}},r.a.createElement("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return window.open("https://github.com/json-editor/json-editor#json-editor")}},"\u5e2e\u52a9"),r.a.createElement("button",{className:"btn btn-sm btn-success",style:{marginLeft:10},onClick:function(){return a(JSON.parse(m.current.getValue()))}},"\u4fdd\u5b58")))},$=(a(394),function(e){var t=e.schema,a=e.startval,c=e.show,i=void 0===c||c,o=e.editable,s=void 0!==o&&o,m=e.onReady,u=e.onSchemaUpdate,p=Object(l.useRef)(null),d=Object(l.useRef)(null),f=Object(l.useRef)(null),h=Object(l.useState)(!1),E=Object(n.a)(h,2),b=E[0],g=E[1],v=Object(l.useState)(null),y=Object(n.a)(v,2),N=y[0],w=y[1];return Object(l.useLayoutEffect)(function(){if(t){var e=a?{startval:a}:{},n=O(p.current,t,e);return n&&"function"===typeof m&&m(n),function(){n&&n.destroy()}}},[JSON.stringify(t)]),t?r.a.createElement("div",{className:"form-view"+(s?" form-edit":"")},r.a.createElement("div",{style:{display:i?"block":"none"},ref:p,className:"schema-form",onClick:function(e){var a=e.target.dataset,n=a.schematype,l=a.schemapath;if(s&&l&&/string|integer|number|boolean/.test(n)){var r=R(t,l);f.current=l,w(r)}}}),s&&r.a.createElement("div",{className:"schema-box"+(b?" schema-show":"")},r.a.createElement(q,{key:"update",value:"\u66f4\u65b0\u81f3\u8868\u5355",onClick:function(){if("function"===typeof u){var e=null;try{e=JSON.parse(d.current.getValue())}catch(t){S("Schema\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u68c0\u67e5")}e&&u(e)}}}),r.a.createElement("div",{className:"switch-btn",title:"\u7f16\u8f91schema",onClick:function(){return g(!b)}},r.a.createElement("i",{className:"fa fa-angle-"+(b?"right":"left")})),r.a.createElement(Z,{type:"json",code:JSON.stringify(t,null,2),onReady:function(e){return d.current=e}})),s&&N&&r.a.createElement("div",{className:"popup-mask"},r.a.createElement("div",{className:"popup-main",style:{width:600,height:350,padding:15}},r.a.createElement("div",{className:"popup-hide",title:"\u5173\u95ed",onClick:function(){return w(null)}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement(B,{schema:N,onUpdate:function(e){J(t,f.current,e),u(t),w(null)}})))):null}),Z=function(e){var t=e.code,a=void 0===t?"":t,n=e.type,c=void 0===n?"json":n,i=e.onReady,o=Object(l.useRef)(null),s=Object(l.useRef)(null);return Object(l.useEffect)(function(){var e=window.ace;s.current||(s.current=e.edit(o.current,{mode:"ace/mode/"+c}),s.current.setTheme("ace/theme/monokai"),"function"===typeof i&&i(s.current)),s.current.setValue(a,-1),s.current.resize()},[a,c]),r.a.createElement("div",{style:{height:"100%"},ref:o})},K={title:"\u5168\u5c40\u914d\u7f6e",type:"object",format:"grid",properties:{name:{title:"\u7cfb\u7edf\u540d\u79f0",type:"string",minLength:1,options:{grid_columns:4}},baseUrl:{title:"\u63a5\u53e3\u524d\u7f00",type:"string",minLength:1,options:{grid_columns:4,inputAttributes:{placeholder:"\u5982 https:/domain.com/api/ \u6216 /api/"}}},mode:{title:"\u8fd0\u884c\u6a21\u5f0f",type:"string",minLength:1,enum:["standalone","embedded"],options:{enum_titles:["\u72ec\u7acb\u6a21\u5f0f","\u5d4c\u5165\u6a21\u5f0f"],grid_columns:4}},sideMenu:{title:"\u5de6\u4fa7\u83dc\u5355\u914d\u7f6e",type:"string",format:"json",default:'[\n  {\n    "name": "\u4e00\u7ea7\u83dc\u5355",\n    "url": "/v1/link/",\n    "icon": "gift"\n  },\n  {\n    "name": "\u4e00\u7ea7\u83dc\u5355",\n    "url": "/v1/link/",\n    "sub": [\n      {\n        "name": "\u4e8c\u7ea7\u83dc\u5355",\n        "url": "/v2/link/"\n      }\n    ]\n  }\n]',options:{grid_columns:12}},uploadFn:{title:"\u4e0a\u4f20\u65b9\u6cd5\u5b9e\u73b0",type:"string",format:"javascript",default:"/**\n * \u5b9e\u73b0 window.fileUploader\n * \n * file \u6587\u4ef6\u5bf9\u8c61\n * path \u4e0a\u4f20\u8868\u5355\u5728schema\u4e2d\u7684\u8def\u5f84\uff0c\u5982 root.info.image\n * cbs \u5b9a\u4e49\u56de\u8c03\n * \n * cbs.progress: \u66f4\u65b0\u8fdb\u5ea6, int, \u503c\u4e3a0-100\uff08success\u65f6\u81ea\u52a8\u8bbe\u4e3a100\uff09\n * cbs.fail: \u5931\u8d25\u56de\u8c03, string, \u503c\u4e3a\u5931\u8d25\u8bf4\u660e\n * cbs.success: \u6210\u529f\u56de\u8c03, string, \u503c\u4e3a\u6587\u4ef6URI\n */\nwindow.fileUploader = function (file, path, cbs) {\n  setTimeout(() => {\n    cbs.progress(30);\n  }, 500);\n\n  setTimeout(() => {\n    cbs.success('//www.sogo.com/web/index/images/logo_440x140.v.4.png');\n  }, 2e3);\n};",options:{grid_columns:12}}}},Q={title:"\u521b\u5efa\u8868\u5355",type:"object",format:"grid",options:{disable_collapse:!0},properties:{name:{title:"\u8868\u5355\u540d\u79f0",type:"string",minLength:1,options:{grid_columns:3}},api:{title:"\u63d0\u4ea4API",type:"string",minLength:1,options:{grid_columns:3}},origin:{title:"\u6570\u636eAPI",type:"string",options:{grid_columns:3}},desc:{title:"\u8868\u5355\u5907\u6ce8",type:"string",options:{grid_columns:3}},json:{title:"\u6570\u636e\u793a\u4f8b",description:"\u8bf7\u586b\u5199\u6570\u636e\u793a\u4f8b\uff0c\u7cfb\u7edf\u6839\u636e\u6570\u636e\u7ed3\u6784\u81ea\u52a8\u751f\u6210schema",type:"string",format:"json",default:JSON.stringify({shop:"\u641c\u72d7\u81ea\u8425",name:"\u641c\u72d7\u7ffb\u8bd1\u7b14",desc:"\u9ad8\u6e05\u5f55\u97f3 \u8bed\u97f3\u8f6c\u6587\u5b57 \u540c\u58f0\u4f20\u8bd1 \u5f55\u97f3\u901f\u8bb0 \u5fae\u578b\u4fbf\u643a",show:!0,price:398,cate:"\u667a\u80fd\u4ea7\u54c1",time:"2019-08-01 18:26:42",state:"\u672a\u5f00\u552e",imgs:[{name:"\u7ffb\u8bd1\u5b9d",desc:"\u9ad8\u6e05\u5f55\u97f3 \u8bed\u97f3\u8f6c\u6587\u5b57",color:"\u84dd\u8272",url:"//mall02.sogoucdn.com/image/2019/03/08/20190308130338_4522.jpg"}]},null,2),options:{grid_columns:12}}}},W={title:"\u521b\u5efa\u5217\u8868",type:"object",format:"grid",options:{disable_collapse:!0},properties:{base:{type:"object",title:"\u57fa\u7840\u914d\u7f6e",format:"grid",properties:{name:{title:"\u540d\u79f0",type:"string",minLength:1,options:{grid_columns:3}},api:{type:"string",title:"\u6570\u636e\u6e90",options:{grid_columns:3}},path:{type:"string",title:"\u6570\u636e\u8def\u5f84",default:"data.list",options:{grid_columns:3}},desc:{title:"\u5907\u6ce8",type:"string",options:{grid_columns:3}}}},cols:{type:"array",title:"\u5217\u8868\u5b57\u6bb5",format:"table",minItems:1,options:{collapsed:!0},items:{title:"\u5217",type:"object",properties:{key:{type:"string"},name:{title:"\u540d\u79f0",type:"string"},width:{title:"\u5217\u5bbd\uff08\u4e3a\u7a7a\u65f6\u81ea\u9002\u5e94\uff09",type:"string"},fn:{title:"\u529f\u80fd",type:"array",uniqueItems:!0,items:{type:"string",enum:["search","sort"],options:{enum_titles:["\u641c\u7d22","\u6392\u5e8f"]}}}}}},handles:{title:"\u6570\u636e\u64cd\u4f5c",type:"array",format:"table",options:{collapsed:!0},items:{type:"object",properties:{name:{title:"\u540d\u79f0",type:"string"},icon:{title:"\u56fe\u6807\uff08\u9009\u586b\uff09",type:"string"},url:{title:"URL",type:"string"},action:{title:"\u884c\u4e3a",type:"string",enum:["link","open","popup","api"],options:{enum_titles:["\u5185\u9875\u6253\u5f00","\u65b0\u7a97\u6253\u5f00","\u5f39\u7a97\u6d6e\u5c42","\u63a5\u53e3\u8bf7\u6c42"],input_width:"180px",choices_options:{searchEnabled:!1}}}}}}}},X={title:"\u521b\u5efa\u56fe\u8868",type:"object",format:"grid",options:{disable_collapse:!0},properties:{name:{title:"\u540d\u79f0",type:"string",minLength:1,options:{grid_columns:3}},theme:{title:"\u914d\u8272",type:"string",format:"choices",enum:["default","light","dart"],options:{grid_columns:3,choices_options:{searchEnabled:!1}}},desc:{title:"\u5907\u6ce8",type:"string",options:{grid_columns:6}},list:{title:"\u56fe\u8868\u96c6",type:"array",format:"tabs-top",minItems:1,options:{disable_collapse:!0},items:{title:"\u56fe\u8868",type:"object",format:"grid",headerTemplate:"{{self.name}}",properties:{name:{type:"string",title:"\u540d\u79f0",options:{grid_columns:3}},api:{type:"string",title:"\u6570\u636e\u6e90",options:{grid_columns:3}},xAxis:{type:"string",title:"\u6a2a\u5750\u6807",options:{inputAttributes:{placeholder:"\u586b\u5199path\u53d6\u503c\u6216\u7528\u9017\u53f7\u5206\u9694"},grid_columns:3}},refresh:{type:"number",title:"\u5b9a\u65f6\u5237\u65b0(\u79d2)",enum:[0,5,15,30,60],options:{grid_columns:3,choices_options:{searchEnabled:!1}}},grid:{type:"number",format:"number",title:"Grid",default:6,options:{grid_columns:3}},height:{type:"number",format:"number",title:"\u9ad8\u5ea6",default:350,options:{grid_columns:3}},toolbox:{title:"\u5de5\u5177\u680f",type:"array",uniqueItems:!0,items:{type:"string",enum:["saveAsImage","dataZoom","magicType"]},options:{grid_columns:6}},series:{type:"array",format:"table",title:"\u7cfb\u5217",minItems:1,options:{disable_collapse:!0},items:{type:"object",properties:{name:{type:"string",title:"\u540d\u79f0",options:{input_width:"150px"}},path:{type:"string",title:"\u8def\u5f84",options:{inputAttributes:{placeholder:"\u5982 data.series.pv"}}},type:{type:"string",title:"\u7c7b\u578b",enum:["line","bar","pie"],options:{enum_titles:["\u6298\u7ebf\u56fe","\u67f1\u72b6\u56fe","\u997c\u72b6\u56fe"],input_width:"160px",choices_options:{searchEnabled:!1}}},color:{type:"string",title:"\u989c\u8272\uff08\u53ef\u9009\uff09",options:{input_width:"150px",inputAttributes:{placeholder:"\u5982 #d48265"}}},label:{type:"string",title:"\u663e\u793a\u6570\u503c",enum:["1","0"],options:{enum_titles:["\u663e\u793a","\u9690\u85cf"],input_width:"150px"}}}}}}}}}},Y="/_lego_api_",ee=Y+"/setting",te=Y+"/form",ae=Y+"/table",ne=Y+"/chart",le=function(e){var t=Object(l.useCallback)(function(e){t.current=O(e,K,{disable_collapse:!0})},[]),a=Object(l.useContext)(m);return Object(l.useEffect)(function(){a.name&&a.baseUrl&&t.current.setValue(a)},[a,t]),r.a.createElement(U,null,r.a.createElement("div",{className:"lego-card"},r.a.createElement("div",{ref:t}),r.a.createElement("div",{className:"btns-row"},r.a.createElement("button",{onClick:function(){var a=t.current,n=a.validate();if(n.length>0)S("\u8868\u5355\u586b\u5199\u6709\u8bef\uff1a<br />".concat(n.map(function(e){return e.path+": "+e.message}).join("<br />")));else{var l=a.getValue();_("POST",ee,l).then(function(){S("\u4fdd\u5b58\u6210\u529f"),e.updateSetting(l)}).catch(function(e){console.log(e)})}},type:"button",className:"btn btn-success btn-sm"},"\u4fdd\u5b58"))))},re=(a(395),function(){return r.a.createElement(U,null,r.a.createElement("div",{className:"guide-help"},r.a.createElement("div",{className:"guide-node"},r.a.createElement("h2",{className:"help-title help-title-main"},r.a.createElement("span",null,"\u521b\u5efa\u8868\u5355")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u4ee5JSON\u6570\u636e\u4e3a\u6a21\u578b\uff0c\u81ea\u52a8\u751f\u6210\u8868\u5355\uff0c\u5e76\u63d0\u4f9b\u9ad8\u5ea6\u6269\u5c55\u548c\u5b9a\u5236\u3002\u4e3a\u4f7f\u8868\u5355\u62e5\u6709\u66f4\u597d\u7684\u4f53\u9a8c\u548c\u4e30\u5bcc\u7684\u529f\u80fd\uff0c\u9700\u7f16\u5199\u5c11\u91cf\u4ee3\u7801\uff0c\u4e0b\u9762\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u3002"))),r.a.createElement("div",{className:"guide-node",id:"step-1"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#step-1"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u7b2c\u4e00\u6b65\uff1a\u6784\u9020\u6570\u636e\u7ed3\u6784\uff0c\u586b\u5199\u8868\u5355\u57fa\u672c\u4fe1\u606f")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u540e\u53f0\u5f00\u53d1\u4eba\u5458\u9996\u5148\u8981\u660e\u786e\u8868\u5355\u7684\u5185\u5bb9\u3001\u529f\u80fd\u548c\u6570\u636e\u7ed3\u6784\uff0c\u81ea\u884c\u6784\u9020\u51faJSON\u6570\u636e"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"\u8868\u5355\u540d\u79f0"),r.a.createElement("p",null,"\u8868\u5355\u7684\u540d\u79f0\uff0c\u6bd4\u5982\u7f16\u8f91\u5546\u54c1\u3001\u6e38\u620f\u914d\u7f6e\u7b49")),r.a.createElement("li",null,r.a.createElement("label",null,"\u63d0\u4ea4API"),r.a.createElement("p",null,"\u8868\u5355\u4ee5",r.a.createElement("code",null,"POST"),"\u65b9\u5f0f\u63d0\u4ea4\u5230\u6b64API\uff08\u652f\u6301",r.a.createElement(o.b,{to:"/help/general#url-variable"},"URL\u53d8\u91cf"),"\uff09\uff0c\u652f\u6301\u5b8c\u6574\u8def\u5f84\u548c\u76f8\u5bf9\u8def\u5f84\uff0c\u586b\u5199\u76f8\u5bf9\u8def\u5f84\u65f6\u4f1a\u81ea\u52a8\u62fc\u63a5\u7cfb\u7edf\u8bbe\u7f6e\u91cc\u7684\u300c\u63a5\u53e3\u524d\u7f00\u300d")),r.a.createElement("li",null,r.a.createElement("label",null,"\u6570\u636eAPI"),r.a.createElement("p",null,"\u7f16\u8f91\u8868\u5355\u65f6\u56de\u586b\u6570\u636e\u7684API\uff08\u652f\u6301",r.a.createElement(o.b,{to:"/help/general#url-variable"},"URL\u53d8\u91cf"),"\uff09\uff0c\u6570\u636e\u7ed3\u6784\u5fc5\u987b\u4e0e\u8868\u5355\u76f8\u5339\u914d\uff0c\u5426\u5219\u4f1a\u53d1\u751f\u4e0d\u53ef\u9884\u671f\u7684\u9519\u8bef\u3002")),r.a.createElement("li",null,r.a.createElement("label",null,"\u6570\u636e\u793a\u4f8b"),r.a.createElement("p",null,"\u6570\u636e\u793a\u4f8b\u662f\u751f\u6210\u8868\u5355\u7684",r.a.createElement("b",null,"\u6838\u5fc3"),"\uff0c\u8bf7\u81ea\u884c\u8bbe\u8ba1JSON\u6570\u636e\u7ed3\u6784\u548c\u5185\u5bb9\uff0c\u5c3d\u91cf\u4f7f\u7528\u771f\u5b9e\u503c\uff0c\u7cfb\u7edf\u4f1a\u6839\u636e\u7c7b\u578b\u751f\u6210\u76f8\u5e94\u7684\u8868\u5355\uff08\u5982\u65e5\u671f\u3001\u6587\u4ef6\u4e0a\u4f20\u7b49\uff09\uff0c\u4ea6\u53ef\u5728\u540e\u7eed\u6b65\u9aa4\u4e2d\u5b8c\u5584\u3002")),r.a.createElement("li",null,r.a.createElement("label",null,"\u8868\u5355\u5907\u6ce8"),r.a.createElement("p",null,"\u8868\u5355\u5907\u6ce8\u4fe1\u606f\uff0c\u53ef\u8bb0\u5f55\u8868\u5355\u7528\u9014\u3001\u6ce8\u610f\u4e8b\u9879\u7b49\uff0c\u65b9\u4fbf\u540e\u671f\u67e5\u9605"))),r.a.createElement("blockquote",null,"\u586b\u5199\u4ee5\u4e0a\u5185\u5bb9\u540e\uff0c\u70b9\u51fb\u9875\u9762\u5e95\u90e8\u300c\u4e0b\u4e00\u6b65\u300d\uff0c\u9884\u89c8\u751f\u6210\u7684\u8868\u5355\u5e76\u8fdb\u884c\u5b8c\u5584\u3002"))),r.a.createElement("div",{className:"guide-node",id:"step-2"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#step-2"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u7b2c\u4e8c\u6b65\uff1a\u9884\u89c8\u3001\u5b8c\u5584\u548c\u4fdd\u5b58\u8868\u5355")),r.a.createElement("div",{className:"help-content"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"\u9884\u89c8"),r.a.createElement("p",null,"\u7cfb\u7edf\u6839\u636e\u7528\u6237\u63d0\u4f9b\u7684\u6570\u636e\u793a\u4f8b\u81ea\u52a8\u751f\u6210\u8868\u5355\uff0c\u5982\u679c\u6b64\u65f6\u8868\u5355\u7b26\u5408\u4f60\u7684\u9700\u6c42\uff0c\u53ef\u8df3\u8fc7\u4e0b\u9762\u6b65\u9aa4\uff0c\u76f4\u63a5\u4fdd\u5b58\u3002")),r.a.createElement("li",null,r.a.createElement("label",null,"\u5b8c\u5584\u548c\u6269\u5c55"),r.a.createElement("p",null,"\u5f53\u8868\u5355\u4e0d\u7b26\u5408\u9700\u6c42\u65f6\uff0c\u901a\u8fc7\u4e24\u65b9\u9762\u8fdb\u884c\u5b8c\u5584\uff1a"),r.a.createElement("ul",null,r.a.createElement("li",null,"1. \u901a\u8fc7\u300c",r.a.createElement(o.b,{to:"/help/general#json-schema"},"JSON-Schema"),"\u300d\uff0c\u70b9\u51fb\u8868\u5355\u53f3\u4e0a\u89d2\u84dd\u8272\u7bad\u5934\u67e5\u770b\u548c\u7f16\u8f91\u751f\u6210\u7684JSON-Schema\uff0c\u53c2\u8003",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/json-editor/json-editor"},"JSON-Editor\u6587\u6863"),"\u8fdb\u884c\u7f16\u8f91\uff0c \u5b8c\u6210\u540e\u70b9\u51fb\u300c\u66f4\u65b0\u81f3\u8868\u5355\u300d\u8fdb\u884c\u9884\u89c8\u3002"),r.a.createElement("li",null,"2. \u901a\u8fc7\u300c\u8868\u5355\u6269\u5c55\u300d\uff0c\u7f16\u5199JavaScript\u8fdb\u884c\u6269\u5c55\u3002",r.a.createElement("br",null),"2.1 ",r.a.createElement("code",null,"window.__editor__"),"\u53ef\u83b7\u53d6\u7f16\u8f91\u5668\u5b9e\u4f8b\uff0c\u53c2\u8003",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/json-editor/json-editor"},"JSON-Editor\u6587\u6863"),"\u5bf9\u8868\u5355\u8fdb\u884c\u6269\u5c55\u3002",r.a.createElement("br",null),"2.2 \u58f0\u660e",r.a.createElement("code",null,"window.onDataReady"),"\u76d1\u542c\u6570\u636e\u56de\u586b \uff0c\u6b64\u65b9\u6cd5\u5728\u6570\u636e\u56de\u586b\u5b8c\u6210\u65f6\u6267\u884c\uff0c\u5e76\u5c06\u56de\u586b\u6570\u636e\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u3002",r.a.createElement("br",null),"2.3 \u58f0\u660e",r.a.createElement("code",null,"window.formUploader"),"\u53ef\u5b9a\u5236\u5f53\u524d\u8868\u5355\u4e0a\u4f20\u65b9\u6cd5\uff0c\u53c2\u6570\u540c",r.a.createElement("code",null,"window.fileUploader"),"\uff08\u89c1",r.a.createElement(o.b,{to:"/help/general#file-upload"},"\u6587\u4ef6\u4e0a\u4f20"),"\uff09")),r.a.createElement("p",null),r.a.createElement("blockquote",null,"\u5e38\u89c1\u95ee\u9898\u548c\u4f7f\u7528\u6280\u5de7\u89c1",r.a.createElement("a",{href:"#supplement"},"\u9644\u5f55"))),r.a.createElement("li",null,r.a.createElement("label",null,"\u6d4b\u8bd5\u548c\u4fdd\u5b58"),r.a.createElement("p",null,"\u5b8c\u5584\u8868\u5355\u540e\uff0c\u9700\u8fdb\u884c\u8bd5\u7528\u548c\u6d4b\u8bd5\u3002\u70b9\u51fb\u300cconsole.log\u300d\u5728\u6d4f\u89c8\u5668\u6253\u5370\u8868\u5355\u6570\u636e\uff0c\u6838\u5bf9\u65e0\u8bef\u540e\u70b9\u51fb\u300c\u4fdd\u5b58\u300d\u5b8c\u6210\u521b\u5efa\u3002"))))),r.a.createElement("div",{className:"guide-node",id:"supplement"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#supplement"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u9644\uff1a")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,r.a.createElement("b",null,"1. \u5982\u4f55\u8fdb\u5165\u8868\u5355\u7f16\u8f91\u6a21\u5f0f\uff1f"),r.a.createElement("br",null),"\u53ea\u8981\u5728\u8868\u5355URL\u4e0a\u8ffd\u52a0\u53c2\u6570",r.a.createElement("code",null,"do=edit"),"\u5373\u53ef\uff0c\u4f8b\u5982 ",r.a.createElement("code",null,"http://lego.com/htm/form/use/1?do=edit"),"\uff0c\u7f16\u8f91\u6a21\u5f0f\u4e0b\u7cfb\u7edf\u4f1a\u8bf7\u6c42",r.a.createElement("b",null,"\u6570\u636eAPI"),"\u8fdb\u884c\u6570\u636e\u56de\u586b\u3002")))))}),ce=function(){return r.a.createElement(U,null,r.a.createElement("div",{className:"guide-help"},r.a.createElement("div",{className:"guide-node"},r.a.createElement("h2",{className:"help-title help-title-main"},r.a.createElement("span",null,"\u521b\u5efa\u5217\u8868")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u6839\u636e\u540e\u7aef\u63d0\u4f9b\u7684API\u751f\u6210\u652f\u6301\u5206\u9875\u3001\u641c\u7d22\u3001\u6392\u5e8f\u7684\u6570\u636e\u5217\u8868\u3002"))),r.a.createElement("div",{className:"guide-node",id:"base"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#base"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u57fa\u7840\u914d\u7f6e")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u586b\u5199\u5217\u8868\u57fa\u672c\u4fe1\u606f\uff0c",r.a.createElement("code",null,"\u6570\u636e\u6e90"),"\u6307\u6570\u636e\u6765\u6e90API\uff08\u652f\u6301",r.a.createElement(o.b,{to:"/help/general#url-variable"},"URL\u53d8\u91cf"),"\uff09\uff0c",r.a.createElement("code",null,"\u6570\u636e\u8def\u5f84"),"\u6839\u636e\u540e\u7aef\u8fd4\u56de\u7684JSON\u6570\u636e\u7ed3\u6784\u586b\u5199\uff0c\u4ee5\u6b64\u5b9a\u4f4d\u5217\u8868\u6570\u636e\u3002"))),r.a.createElement("div",{className:"guide-node",id:"field"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#field"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u5217\u8868\u5b57\u6bb5")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u7528\u6765\u5b9a\u4e49\u5404\u5217\u6570\u636e\uff0c\u70b9\u51fb",r.a.createElement("code",null,"+\u5217"),"\u6dfb\u52a0\u4e00\u5217\uff0c\u586b\u5199API\u4e2d\u5bf9\u5e94\u7684",r.a.createElement("code",null,"key"),"\uff0c\u7cfb\u7edf\u636e\u6b64\u8bfb\u53d6\u6570\u636e\uff0c\u5982\u679c\u540e\u7aef\u652f\u6301\u641c\u7d22\u6216\u6392\u5e8f\uff0c\u5f00\u53d1\u8005\u53ef\u6309\u9700\u52fe\u9009\u76f8\u5e94\u529f\u80fd\u3002"),r.a.createElement("blockquote",null,"\u641c\u7d22\u65f6\uff0c\u7cfb\u7edf\u4f1a\u5728\u6570\u636e\u63a5\u53e3\u6dfb\u52a0",r.a.createElement("code",null,"{key}={\u641c\u7d22value}"),"\u53c2\u6570\uff1b\u6392\u5e8f\u65f6\uff0c\u7cfb\u7edf\u4f1a\u5728\u6570\u636e\u63a5\u53e3\u6dfb\u52a0",r.a.createElement("code",null,"sort={key}-{asc|desc}"),"\u53c2\u6570\uff08\u4ec5\u652f\u6301\u5355\u5217\u6392\u5e8f\uff09"))),r.a.createElement("div",{className:"guide-node",id:"handle"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#handle"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u6570\u636e\u64cd\u4f5c")),r.a.createElement("div",{className:"help-content"},"\u6dfb\u52a0\u6570\u636e\u64cd\u4f5c\u5982\u7f16\u8f91\u3001\u5220\u9664\u7b49\uff0c\u652f\u6301\u65b0\u7a97\u6253\u5f00\u6216\u63a5\u53e3\u8bf7\u6c42\uff0c\u53ef\u914d\u7f6e",r.a.createElement(o.b,{to:"/help/general#icon-font"},"IconFont"),"\uff0c\u652f\u6301",r.a.createElement(o.b,{to:"/help/general#url-variable"},"URL\u53d8\u91cf"),"\uff0c\u53d8\u91cf\u6570\u636e\u4ece\u884c\u6570\u636e\u548c\u9875\u9762URL\u53c2\u6570\u4e2d\u8bfb\u53d6\uff0c\u884c\u6570\u636e\u4f18\u5148\u7ea7\u66f4\u9ad8\u3002")),r.a.createElement("div",{className:"guide-node",id:"extend"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#extend"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u5217\u8868\u6269\u5c55")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u5f53\u914d\u7f6e\u65e0\u6cd5\u6ee1\u8db3\u9700\u6c42\u65f6\uff0c\u901a\u8fc7JavaScript\u8fdb\u884c\u6269\u5c55\u3002"),r.a.createElement("p",null,"1. \u4fee\u6b63\u5217\u6570\u636e\uff1a\u58f0\u660e",r.a.createElement("code",null,"window.__colFix__"),"\u5bf9\u6570\u636e\u8fdb\u884c\u4fee\u6b63\u3002",r.a.createElement("br",null),"\u4f8b\u5982\u67d0\u5217\u6570\u636e",r.a.createElement("code",null,'{"price": 1500, "img": "http://xx.com/img/123.jpg"}'),"\uff0cprice\u5355\u4f4d\u4e3a\u5206\uff0c\u9884\u5c55\u793a\u4ee5\u5143\u4e3a\u5355\u4f4d\u7684\u4ef7\u683c\u5e76\u663e\u793a\u56fe\u7247\uff0c\u6309\u5982\u4e0b\u65b9\u5f0f\u4fee\u6b63\uff1a"),r.a.createElement("pre",null,"window.__colFix__ = function (key, value, row) {\n  switch (key) {\n    case 'price':\n      return (value / 100) + '\u5143';\n\n    case 'img':\n      return '<img src=\"'+ value +'\" width=\"100\" height=\"80\" />'\n  }\n}"),r.a.createElement("blockquote",null,"\u53ef\u901a\u8fc7",r.a.createElement("code",null,"switch-case"),"\u540c\u65f6\u4fee\u6b63\u591a\u5217\u6570\u636e\uff0c\u82e5\u4f7f\u7528ES6\u8bed\u6cd5\uff0c\u8bf7\u786e\u4fddLEGO\u8fd0\u884c\u5728\u652f\u6301\u7684\u6d4f\u89c8\u5668\u4e2d\u3002"),r.a.createElement("p",null,"2. \u4fee\u6b63\u5206\u9875\u6570\u636e\uff1a\u58f0\u660e",r.a.createElement("code",null,"window.__pageFix__"),"\u5bf9\u5206\u9875\u6570\u636e\u8fdb\u884c\u4fee\u6b63\u5e76\u8fd4\u56de",r.a.createElement("b",null,"\u6570\u636e\u603b\u6570 total"),"\u548c",r.a.createElement("b",null,"\u5206\u9875\u5927\u5c0f pageSize"),"\u3002",r.a.createElement("br",null),"\u4f8b\u5982\u63a5\u53e3\u5206\u9875\u6570\u636e\u4e3a\uff1a",r.a.createElement("pre",null,'{\n  "code": 0,\n  "data": {\n    "pageInfo": {\n      "total": 2192,\n      "size": 30\n    }\n  }\n}')),r.a.createElement("p",null,"\u5219\u5b9a\u4e49\u4fee\u6b63\u65b9\u6cd5\uff1a",r.a.createElement("pre",null,"window.__pageFix__ = function (data) {\n  return {\n    total: data.pageInfo.total,\n    pageSize: data.pageInfo.size\n  }\n}")),"\u82e5\u63a5\u53e3\u5206\u9875\u6570\u636e\u4e3a\u5982\u4e0b\u6807\u51c6\u7ed3\u6784\uff0c\u5219\u65e0\u9700\u4fee\u6b63\uff1a",r.a.createElement("pre",null,'{\n  "code": 0,\n  "data": {\n    "page": {\n      "total": 2192,\n      "pageSize": 30\n    }\n  }\n}')))))},ie=function(){return r.a.createElement(U,null,r.a.createElement("div",{className:"guide-help"},r.a.createElement("div",{className:"guide-node"},r.a.createElement("h2",{className:"help-title help-title-main"},r.a.createElement("span",null,"\u521b\u5efa\u56fe\u8868")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u4ec5\u9700\u7b80\u5355\u914d\u7f6e\uff0c\u5373\u53ef\u5feb\u901f\u751f\u6210\u8868\u73b0\u529b\u4e30\u5bcc\u7684\u6570\u636e\u56fe\u8868\uff0c\u652f\u6301\u6298\u7ebf\u56fe\u3001\u67f1\u72b6\u56fe\u3001\u997c\u72b6\u56fe\uff0c\u652f\u6301\u5b9a\u65f6\u5237\u65b0\uff0c\u53ef\u5728\u5355\u9875\u5c55\u793a\u591a\u4e2a\u56fe\u8868\u5b9e\u4f8b\uff0c\u65b9\u4fbf\u5bf9\u6bd4\u5206\u6790\u3002"))),r.a.createElement("div",{className:"guide-node",id:"step-1"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#step-1"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u7b2c\u4e00\u6b65\uff1a\u586b\u5199\u57fa\u672c\u4fe1\u606f")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u586b\u5199\u56fe\u8868\u540d\u79f0\u3001\u914d\u8272\u548c\u5907\u6ce8\u7b49\u57fa\u672c\u4fe1\u606f\uff0c\u6309\u7167\u4f60\u7684\u9700\u8981\u586b\u5199\u5373\u53ef\u3002"))),r.a.createElement("div",{className:"guide-node",id:"step-2"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#step-2"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u7b2c\u4e8c\u6b65\uff1a\u914d\u7f6e\u56fe\u8868")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u53ef\u914d\u7f6e\u591a\u4e2a\u56fe\u8868\uff0c\u901a\u8fc7\u6392\u7248\u548c\u7ec4\u5408\u65b9\u4fbf\u7684\u67e5\u770b\u3001\u5bf9\u6bd4\u3001\u5206\u6790\u6570\u636e\u3002\u9700\u8981\u7279\u522b\u8bf4\u660e\u7684\u662f\uff1a"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"\u6570\u636e\u6e90"),r.a.createElement("p",null,"\u83b7\u53d6\u6570\u636e\u7684API\uff0c\u652f\u6301",r.a.createElement(o.b,{to:"/help/general#url-variable"},"URL\u53d8\u91cf"))),r.a.createElement("li",null,r.a.createElement("label",null,"\u6a2a\u5750\u6807"),r.a.createElement("p",null,"\u6a2a\u5750\u6807\u652f\u6301\u4e24\u79cd\u65b9\u5f0f\uff1a",r.a.createElement("br",null),"1. \u5982\u679c\u6a2a\u5750\u6807\u4e3a\u5e38\u91cf\uff0c\u53ef\u76f4\u63a5\u586b\u5199\uff0c\u5e76\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a",r.a.createElement("code",null,"\u5468\u4e00,\u5468\u4e8c,\u5468\u4e09,\u5468\u56db,\u5468\u4e94,\u5468\u516d,\u5468\u65e5"),r.a.createElement("br",null),"2. \u5982\u679c\u6a2a\u5750\u6807\u4ece\u6570\u636e\u6e90\u8bfb\u53d6\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\u53d6\u503c\uff0c\u8bf7\u770b\u4ee5\u4e0b\u6570\u636e\u793a\u4f8b\uff1a",r.a.createElement("br",null),r.a.createElement("pre",null,'{\n  "code": 0,\n  "data": {\n    "dau": [\n      {\n        "uv": 2100,\n        "pv": 10021,\n        "day": "2020-01-01"\n      },\n      {\n        "uv": 2100,\n        "pv": 10021,\n        "day": "2020-01-02"\n      },\n      {\n        "uv": 2100,\n        "pv": 10021,\n        "day": "2020-01-03"\n      },\n      {\n        "uv": 2100,\n        "pv": 10021,\n        "day": "2020-01-04"\n      },\n      {\n        "uv": 2100,\n        "pv": 10021,\n        "day": "2020-01-05"\n      }\n    ],\n    "xAxis": ["\u5468\u4e00", "\u5468\u4e8c", "\u5468\u4e09", "\u5468\u56db", "\u5468\u4e94", "\u5468\u516d", "\u5468\u65e5"]\n  }\n}'),"2.1 \u5982\u679c\u63a5\u53e3\u76f4\u63a5\u8fd4\u56de\u6a2a\u5750\u6807\u6570\u636e\uff0c\u586b\u5199\u5bf9\u5e94Path\u5373\u53ef\uff0c\u5982",r.a.createElement("code",null,"data.xAxis"),r.a.createElement("br",null),"2.2 \u5982\u679c\u6a2a\u5750\u6807\u662f\u6570\u636e\u5217\u8868\u4e2d\u7684\u5b57\u6bb5\uff0c\u53ef\u4f7f\u7528",r.a.createElement(o.b,{to:"/help/general#path-map"},"PathMap"),"\u53d6\u503c\uff0c\u5982",r.a.createElement("code",null,"data.dau..day"))),r.a.createElement("li",null,r.a.createElement("label",null,"\u5de5\u5177\u680f"),r.a.createElement("p",null,"\u53ef\u5728\u56fe\u8868\u53f3\u4e0a\u89d2\u6dfb\u52a0\u5b9e\u7528\u5de5\u5177\uff1asaveAsImage \u4fdd\u5b58\u4e3a\u56fe\u7247\uff0cdataZoom \u533a\u57df\u7f29\u653e\uff0cmagicType \u5207\u6362\u56fe\u8868\u7c7b\u578b")),r.a.createElement("li",null,r.a.createElement("label",null,"\u7cfb\u5217"),r.a.createElement("p",null,"\u4e00\u4e2a\u56fe\u8868\u53ef\u6dfb\u52a0\u591a\u4e2a\u7cfb\u5217\uff0c\u6309\u7167\u4f60\u7684\u9700\u8981\u586b\u5199\u540d\u79f0\u3001\u8def\u5f84\uff08\u652f\u6301",r.a.createElement(o.b,{to:"/help/general#path-map"},"PathMap"),"\uff09\u3001\u7c7b\u578b\u7b49\u3002")))))))},oe=function(){return r.a.createElement(U,null,r.a.createElement("div",{className:"guide-help"},r.a.createElement("div",{className:"guide-node"},r.a.createElement("h2",{className:"help-title help-title-main"},r.a.createElement("span",null,"\u901a\u7528\u8bf4\u660e")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u5bf9\u7cfb\u7edf\u901a\u7528\u529f\u80fd\u548c\u6a21\u5757\u505a\u7edf\u4e00\u8bf4\u660e\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u597d\u7684\u7406\u89e3\u548c\u4f7f\u7528LEGO\u3002"))),r.a.createElement("div",{className:"guide-node",id:"json-schema"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#json-schema"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"JSON-Schema")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u8981\u4e86\u89e3",r.a.createElement("code",null,"JSON Schema"),"\u662f\u4ec0\u4e48\uff0c\u6211\u4eec\u9996\u5148\u8981\u4e86\u89e3",r.a.createElement("code",null,"JSON"),"\u662f\u4ec0\u4e48\u3002JSON\uff08JavaScript Object Notation\uff09\u662f\u4e00\u79cd\u7b80\u5355\u7684\u4e92\u8054\u7f51\u6570\u636e\u4ea4\u6362\u683c\u5f0f\u3002JSON\u57fa\u4e8eJavaScript\u800c\u6765\uff0c\u5b83\u5df2\u88ab\u8bc1\u660e\u8db3\u591f\u6709\u7528\u4e14\u8db3\u591f\u7b80\u5355\uff0c\u73b0\u5728\u4e5f\u88ab\u7528\u4e8e\u8bb8\u591a\u5176\u4ed6\u4e0d\u6d89\u53ca\u4e92\u8054\u7f51\u6570\u636e\u4ea4\u6362\u7684\u73af\u5883\u4e2d\u3002",r.a.createElement("b",null,"JSON-Schema\u662f\u63cf\u8ff0JSON\u6570\u636e\u7ed3\u6784\u7684\u58f0\u660e\u683c\u5f0f"),"\uff0c\u5b83\u672c\u8eab\u4e5f\u662f\u7528JSON\u7f16\u5199\u7684\uff0c\u53ef\u4ee5\u4e3aJSON\u6570\u636e\u63d0\u4f9b\u6e05\u6670\u3001\u4e25\u8c28\u7684\u58f0\u660e\uff0c\u5e76\u53ef\u7528\u4e8e\u6570\u636e\u9a8c\u8bc1\uff0c\u4fdd\u8bc1\u6570\u636e\u4ea4\u6362\u7684\u6b63\u786e\u6027\u3002\u5173\u4e8eJSON-Schema\u66f4\u591a\u5185\u5bb9\uff0c\u8bf7\u67e5\u9605\u5b98\u7f51",r.a.createElement("a",{href:"https://json-schema.org/",target:"_blank",rel:"noopener noreferrer"},"https://json-schema.org/")))),r.a.createElement("div",{className:"guide-node",id:"url-variable"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#url-variable"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"URL\u53d8\u91cf")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"URL\u53d8\u91cf\u662f\u4e00\u79cd\u5b9a\u5236URL\u53c2\u6570\u7684\u65b9\u5f0f\uff0c\u7528\u5728\u8868\u5355\u63d0\u4ea4\u3001\u8868\u5355\u56de\u586b\u3001\u5217\u8868\u3001\u56fe\u8868\u6570\u636e\u7b49\u6a21\u5757\u3002\u5f00\u53d1\u8005\u6839\u636e\u9700\u8981\u63d0\u4f9b\u5e26\u53d8\u91cf\u7684URL\uff0c\u5b9e\u73b0\u5bf9API\u7684\u5b9a\u5236\uff0c\u7cfb\u7edf\u6240\u6709API\u90fd\u652f\u6301URL\u53d8\u91cf\u3002"),r.a.createElement("p",null,"\u683c\u5f0f\u5982\uff1a",r.a.createElement("code",null,"https://example.com/api/{{model}}/?id={{orderid}}&state={{state}}"),"\uff0c\u53d8\u91cf",r.a.createElement("code",null,"{{key}}"),"\u4f1a\u88ab\u66ff\u6362\u4e3a\u5f53\u524d\u9875\u9762URL\u4e2d\u540c\u540d\u53c2\u6570\u7684\u503c\uff0c\u82e5\u627e\u4e0d\u5230\u5bf9\u5e94\u53c2\u6570\u5219\u66ff\u6362\u4e3a\u7a7a\u3002\u4f8b\u5982\u5f53\u524d\u9875URL\u4e3a https://lego.com/htm/form/use/1?orderid=123&model=order\uff0c\u5219API\u88ab\u66ff\u6362\u4e3a","https://example.com/api/order/?id=123&state="))),r.a.createElement("div",{className:"guide-node",id:"path-map"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#path-map"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"PathMap")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"PathMap\u662fLEGO\u7279\u6709\u7684\u4e00\u79cd\u83b7\u53d6\u63a5\u53e3\u6570\u636e\u7684\u65b9\u5f0f\uff0c\u4e00\u822c\u83b7\u53d6JSON\u76f8\u5e94\u8282\u70b9\u6570\u636e\u65f6\u53ef\u4f7f\u7528Path\uff0c\u4f46\u8403\u53d6\u5217\u8868\u4e2d\u67d0\u5b57\u6bb5\u65f6\uff0c\u5c31\u8981\u7528\u5230PathMap\u4e86\u3002\u4f8b\u5982\uff1a",r.a.createElement("pre",null,'{\n  "code": 0,\n  "data": {\n    "list": [\n      {\n        "price": 125,\n        "day": "2019-12-11",\n        "view": 218\n      },\n      {\n        "price": 116,\n        "day": "2019-12-12",\n        "view": 1116\n      },\n      {\n        "price": 126,\n        "day": "2019-12-13",\n        "view": 519\n      }\n    ],\n    "userInfo": {\n      "uid": 623241545,\n      "nickName": "FIGO",\n      "lastLogin": ["2019-12-11 14:25:59", "2019-12-07 10:16:06", "2019-12-12 08:06:28"]\n    }\n  }\n}'),"\u6309\u7167\u5982\u4e0b\u65b9\u5f0f\u53d6\u503c\u53ef\u5f97\u5230\uff1a",r.a.createElement("br",null),r.a.createElement("code",null,"data.userInfo.nickName")," => ",r.a.createElement("code",null,'"FIGO"'),r.a.createElement("br",null),r.a.createElement("code",null,"data.userInfo.lastLogin")," =>"," ",r.a.createElement("code",null,'["2019-12-11 14:25:59", "2019-12-07 10:16:06", "2019-12-12 08:06:28"]'),r.a.createElement("br",null),r.a.createElement("code",null,"data.list..view")," => ",r.a.createElement("code",null,"[218, 1116, 519]")))),r.a.createElement("div",{className:"guide-node",id:"show-popup"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#file-upload"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u81ea\u5b9a\u4e49\u5f39\u7a97")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u4e3a\u65b9\u4fbf\u90e8\u5206\u64cd\u4f5c\u5728\u5f53\u524d\u9875\u8fdb\u884c\uff0cLEGO\u652f\u6301\u81ea\u5b9a\u4e49\u5f39\u7a97\uff0c\u652f\u6301iframe\u548chtml\u6e32\u67d3\uff0c\u7528\u6cd5\u5982\u4e0b\uff1a"),r.a.createElement("pre",null,'window.popupShow(\n  src: "https://xxx.com/htm/somepage.html", // url\u6216html\uff0c\u53ef\u5d4c\u5165\u8868\u5355\u6216\u5176\u4ed6\u9875\u9762\n  width: 700, // \u5f39\u7a97\u5bbd\u5ea6\uff0c\u9ed8\u8ba4700\n  height: 400 // \u5f39\u7a97\u9ad8\u5ea6\uff0c\u9ed8\u8ba4400\uff0c\u6700\u5927\u4e0d\u5f97\u8d85\u8fc7800\n);\n\nwindow.popupShow() // \u5173\u95ed\u5f39\u7a97'))),r.a.createElement("div",{className:"guide-node",id:"file-upload"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#file-upload"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"\u6587\u4ef6\u4e0a\u4f20")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u7cfb\u7edf\u9ed8\u8ba4\u4f7f\u7528\u300c\u7cfb\u7edf\u8bbe\u7f6e-\u4e0a\u4f20\u65b9\u6cd5\u300d\u4e0a\u4f20\u6587\u4ef6\u6216\u56fe\u7247\uff0c\u5f00\u53d1\u8005\u6839\u636e\u540e\u7aef\u63d0\u4f9b\u7684\u4e0a\u4f20\u63a5\u53e3\u5b9e\u73b0",r.a.createElement("code",null,"window.fileUploader"),"\u3002",r.a.createElement("br",null),"\u5982\u679c\u67d0\u8868\u5355\u9700\u8981\u81ea\u5b9a\u4e49\u4e0a\u4f20\u65b9\u6cd5\uff0c\u5728\u8868\u5355\u6269\u5c55\u4e2d\u58f0\u660e",r.a.createElement("code",null,"window.formUploader"),"\uff0c\u7528\u6cd5\u76f8\u540c\u3002\u53c2\u6570\u53ca\u7528\u6cd5Demo\uff1a"),r.a.createElement("pre",null,'/**\n * \u5b9e\u73b0 window.fileUploader\n * \n * file \u6587\u4ef6\u5bf9\u8c61\n * path \u4e0a\u4f20\u8868\u5355\u5728schema\u4e2d\u7684\u8def\u5f84\uff0c\u5982 "root.info.image"\uff0c\u5bcc\u6587\u672c\u7f16\u8f91\u5668\u7684path\u4e3a\u5e38\u91cf "wysiwyg"\n * cbs \u6309\u9700\u6267\u884c\u56de\u8c03\uff0c\u5c06\u4e0a\u4f20\u7ed3\u679c\u56de\u4f20\n * \n * cbs.progress: \u66f4\u65b0\u8fdb\u5ea6, int, \u503c\u4e3a0-100\uff08success\u65f6\u81ea\u52a8\u8bbe\u4e3a100\uff09\n * cbs.fail: \u5931\u8d25\u56de\u8c03, string, \u503c\u4e3a\u5931\u8d25\u8bf4\u660e\n * cbs.success: \u6210\u529f\u56de\u8c03, string, \u503c\u4e3a\u6587\u4ef6URI\n */\nwindow.fileUploader = function (file, path, cbs) {\n  console.log(path);\n  setTimeout(() => {\n    cbs.progress(30);\n  }, 500);\n\n  setTimeout(() => {\n    cbs.success(\'//www.sogo.com/web/index/images/logo_440x140.v.4.png\');\n  }, 2e3);\n};'))),r.a.createElement("div",{className:"guide-node",id:"icon-font"},r.a.createElement("h2",{className:"help-title help-title-sub"},r.a.createElement("a",{className:"hash",href:"#icon-font"},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("span",null,"IconFont")),r.a.createElement("div",{className:"help-content"},r.a.createElement("p",null,"\u7cfb\u7edf\u5185\u7f6e1500+",r.a.createElement("a",{href:"https://fontawesome.com/icons?d=gallery&m=free",target:"_blank",rel:"noopener noreferrer"},"Font Awesome"),"\u5b57\u4f53\u56fe\u6807\uff0c\u53ef\u5728\u300c\u7cfb\u7edf\u8bbe\u7f6e-\u5de6\u4fa7\u83dc\u5355\u300d\u3001\u300c\u5217\u8868\u914d\u7f6e-\u6570\u636e\u64cd\u4f5c\u300d\u76f4\u63a5\u586b\u5199\u56fe\u6807\u540d\u79f0\u8fdb\u884c\u914d\u7f6e\u3002")))))},se=function(){return r.a.createElement(U,null,r.a.createElement("div",{className:"guide-home"},r.a.createElement("h1",null,"\u4f7f\u7528LEGO\u5feb\u901f\u642d\u5efa\u540e\u53f0"),r.a.createElement("div",{className:"subtitle"},"LEGO\u62e5\u6709\u4e30\u5bcc\u7684\u5185\u5efa\u6a21\u5757\uff0c\u53ef\u5728\u6570\u5206\u949f\u5185\u642d\u5efa\u5f3a\u5927\u7684\u540e\u53f0\u754c\u9762"),r.a.createElement("div",{className:"entry"},r.a.createElement(o.b,{to:"/form/create",className:"item"},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-th-list"})),r.a.createElement("h2",null,"\u521b\u5efa\u8868\u5355"),r.a.createElement("p",{className:"desc"},"\u4ee5JSON\u6570\u636e\u4e3a\u6a21\u578b\u81ea\u52a8\u521b\u5efa\u8868\u5355\uff0c\u652f\u6301\u65e5\u671f\u3001\u4e0a\u4f20\u3001\u7f16\u8f91\u5668\u7b49\u591a\u79cd\u8868\u5355\u6a21\u578b")),r.a.createElement(o.b,{to:"/table/create",className:"item"},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-table"})),r.a.createElement("h2",null,"\u521b\u5efa\u5217\u8868"),r.a.createElement("p",{className:"desc"},"\u63d0\u4f9bAPI\u548c\u8868\u5934\uff0c\u4e00\u952e\u751f\u6210\u5217\u8868\u9875\uff0c\u652f\u6301\u5b57\u6bb5\u6392\u5e8f\u3001\u641c\u7d22\u3001\u5206\u9875\u7b49\u5217\u8868\u5e38\u7528\u529f\u80fd")),r.a.createElement(o.b,{to:"/chart/create",className:"item"},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-chart-line"})),r.a.createElement("h2",null,"\u521b\u5efa\u56fe\u8868"),r.a.createElement("p",{className:"desc"},"\u901a\u8fc7\u7b80\u5355\u914d\u7f6e\u5373\u53ef\u751f\u6210\u6298\u7ebf\u56fe\u3001\u67f1\u72b6\u56fe\u3001\u997c\u72b6\u56fe\u7b49\u591a\u79cd\u6570\u636e\u56fe\u8868"))),r.a.createElement("div",{className:"info lnks"},"\u5e2e\u52a9\u6587\u6863\uff1a",r.a.createElement(o.b,{to:"/help/general"},"\u901a\u7528\u8bf4\u660e"),r.a.createElement(o.b,{to:"/help/form"},"\u521b\u5efa\u8868\u5355"),r.a.createElement(o.b,{to:"/help/table"},"\u521b\u5efa\u5217\u8868"),r.a.createElement(o.b,{to:"/help/chart"},"\u521b\u5efa\u56fe\u8868")),r.a.createElement("div",{className:"info"},"Driven by React, JSON-Editor, Koa, Sqlite3. Powered by hanlongfei@sogou-inc.com")))},me=(a(396),function(e){var t=Object(l.useState)(1),a=Object(n.a)(t,2),c=a[0],i=a[1],o=Object(l.useState)({schema:{},data:{}}),s=Object(n.a)(o,2),m=s[0],u=s[1],p=Object(l.useState)(!1),d=Object(n.a)(p,2),f=d[0],h=d[1],E=Object(l.useRef)(null),b=Object(l.useRef)(null),g=Object(l.useRef)(null);return r.a.createElement(U,null,r.a.createElement("div",{className:"lego-card"},r.a.createElement($,{onReady:function(e){return E.current=e},show:1===c,schema:Q}),2===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement($,{schema:m.schema,startval:m.data,editable:!0,onReady:function(e){return b.current=e},onSchemaUpdate:function(e){return u(function(t){return{data:t.data,schema:e}})}}),r.a.createElement("div",{className:"form-ext card "+(f?"form-ext-show":"")},r.a.createElement("h3",null,r.a.createElement("label",null,"\u8868\u5355\u6269\u5c55"),r.a.createElement("span",{className:"switch-ext",onClick:function(){return h(!f)}},r.a.createElement("i",{className:"fa fa-angle-right"}))),r.a.createElement(Z,{type:"javascript",onReady:function(e){return g.current=e}}))),r.a.createElement("div",{className:"btns-row"},1===c&&[r.a.createElement(q,{key:"next",value:"\u4e0b\u4e00\u6b65",onClick:function(){var e=E.current,t=e.validate();if(t.length>0)S("\u8868\u5355\u586b\u5199\u6709\u8bef\uff1a<br />".concat(t.map(function(e){return e.path+": "+e.message}).join("<br />")));else{var a=e.getValue(),n=a.name,l=a.json,r=JSON.parse(l);u({schema:v(r,n),data:r}),i(2)}},extClass:"btn-primary"}),r.a.createElement(q,{key:"help",onClick:function(){return window.open("".concat("/htm","/help/form"))},value:"\u5e2e\u52a9",extClass:"btn-outline-primary"})],2===c&&[r.a.createElement(q,{key:"save",value:"\u4fdd\u5b58",onClick:function(){var t=m.schema,a=E.current.getValue(),n=a.name,l=a.api,r=a.origin,c=a.desc,i=g.current.getValue();_("POST",te,{name:n,api:l,origin:r,desc:c,ext:i,schema:JSON.stringify(t)}).then(function(){S("\u4fdd\u5b58\u6210\u529f"),e.history.push("/form/list")}).catch(function(e){S(e.msg)})},extClass:"btn-success"}),r.a.createElement(q,{key:"log",value:"console.log",onClick:function(){console.log(b.current.getValue())},extClass:"btn-outline-primary"}),r.a.createElement(q,{key:"help",onClick:function(){return window.open("".concat("/htm","/help/form"))},value:"\u5e2e\u52a9",extClass:"btn-outline-primary"}),r.a.createElement(q,{key:"back",value:"\u8fd4\u56de",onClick:function(){return i(1)},extClass:"btn-outline-secondary"})])))}),ue=function(e){var t=window.location.host,a="//".concat(t,"/_lego_api_/"),n={base:{name:"\u8868\u5355\u7ba1\u7406",api:a+"form/list?name={{name}}&pn={{pageNo}}",path:"data.list"},cols:[{key:"id",name:"ID",width:"80",fn:[]},{key:"name",name:"\u8868\u5355\u540d\u79f0",width:"240",fn:["search"]},{key:"desc",name:"\u5907\u6ce8",width:"",fn:[]}],handles:[{key:"view",name:"\u9884\u89c8",icon:"eye",url:"/form/use/{{id}}",action:"link"},{key:"edit",name:"\u7f16\u8f91",icon:"edit",url:"/form/edit/{{id}}",action:"link"},{key:"delete",name:"\u5220\u9664",icon:"trash-alt",url:a+"form/delete?id={{id}}",action:"api"}]};return r.a.createElement(U,null,r.a.createElement("div",{className:"lego-card"},r.a.createElement("div",{id:"tableTopHook",className:"table-top clearfix"},r.a.createElement("h2",{className:"title"},n.base.name),r.a.createElement("div",{className:"btns"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.history.push("/form/create")}},r.a.createElement("i",{className:"fas fa-plus"}),r.a.createElement("span",null,"\u521b\u5efa\u8868\u5355")))),r.a.createElement(V,{config:n})))};function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var de=function(e){var t=Object(l.useState)({name:"",api:"",origin:"",schema:"{}",desc:"",ext:"",loading:!0}),a=Object(n.a)(t,2),c=a[0],i=a[1],o=Object(l.useRef)(null),s=Object(l.useRef)(null);function m(e){var t=e.target,a=t.value,n=t.name;i(Object.assign({},c,Object(y.a)({},n,a)))}return Object(l.useEffect)(function(){var t=e.match.params.id;_("GET",te,{id:t}).then(function(e){var t=e.data,a=t.name,n=t.api,l=t.origin,r=t.desc,c=t.schema,o=t.ext;i({name:a,api:n,origin:l,desc:r,schema:c,ext:o,loading:!1})})},[e.match.params.id]),r.a.createElement(U,{loading:c.loading},r.a.createElement("div",{className:"lego-card"},r.a.createElement($,{schema:JSON.parse(c.schema),onReady:function(e){return o.current=e},onSchemaUpdate:function(e){return i(function(t){return Object.assign({},t,{schema:JSON.stringify(e)})})},editable:!0}),r.a.createElement("div",{className:"card card-body",style:{marginTop:20,background:"#fafafa"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label"},"\u8868\u5355\u540d\u79f0"),r.a.createElement("input",{type:"text",value:c.name,onChange:m,name:"name",className:"form-control"}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label"},"\u63d0\u4ea4API"),r.a.createElement("input",{type:"text",onChange:m,value:c.api,name:"api",className:"form-control"}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label"},"\u6570\u636eAPI"),r.a.createElement("input",{type:"text",onChange:m,value:c.origin,name:"origin",className:"form-control"}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label"},"\u8868\u5355\u5907\u6ce8"),r.a.createElement("input",{type:"text",onChange:m,value:c.desc,name:"desc",className:"form-control"}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label"},"\u8868\u5355\u6269\u5c55"),r.a.createElement("div",{style:{height:350}},r.a.createElement(Z,{code:c.ext,type:"javascript",onReady:function(e){return s.current=e}})))))),r.a.createElement("div",{className:"btns-row"},r.a.createElement(q,{value:"\u4fdd\u5b58",onClick:function(){_("POST",te,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({id:e.match.params.id},c,{ext:s.current.getValue()})).then(function(){S("\u4fdd\u5b58\u6210\u529f"),e.history.push("/form/list")}).catch(function(e){S(e.msg)})},extClass:"btn-success"}),r.a.createElement(q,{value:"console.log",onClick:function(){console.log(o.current.getValue())},extClass:"btn-outline-primary"}),r.a.createElement(q,{key:"help",onClick:function(){return window.open("".concat("/htm","/help/form"))},value:"\u5e2e\u52a9",extClass:"btn-outline-primary"}),r.a.createElement(q,{value:"\u8fd4\u56de",onClick:function(){e.history.goBack()},extClass:"btn-outline-secondary"}))))};function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var he=function(e){var t=Object(l.useContext)(m),a=Object(l.useState)({api:"",origin:"",schema:"{}",loading:!0}),c=Object(n.a)(a,2),i=c[0],o=c[1],s=Object(l.useRef)(null);return Object(l.useEffect)(function(){var t,a,l=e.match.params.id;return _("GET",te,{id:l}).then(function(e){var l=e.data,r=l.api,c=l.origin,i=l.schema,s=l.ext,m=l.state;if(0===(void 0===m?0:m))S("\u8868\u5355\u5df2\u5931\u6548"),o({schema:'{"title":"\u65e0\u6548\u8868\u5355","properties":{},"options":{"disable_collapse":true}}',loading:!1});else{o({api:r,origin:c,schema:i,loading:!1});var u=C(s),p=Object(n.a)(u,2);t=p[0],a=p[1]}}),function(){try{console.log("unmount ".concat(t)),delete window.onDataReady,delete window.__editor__,delete window[t],a.remove()}catch(e){console.warn(e)}}},[e.match.params.id]),Object(l.useEffect)(function(){var e=x();if(e&&"edit"===e.do&&i.origin){var t=P(i.origin,e);_("GET",t).then(function(e){if(0===e.code)try{s.current.setValue(e.data),"function"===typeof window.onDataReady&&window.onDataReady(e.data)}catch(t){console.warn(t)}}).catch(function(e){return console.log(e)})}},[i.origin]),r.a.createElement(U,{loading:i.loading},r.a.createElement("div",{className:"lego-card"},r.a.createElement($,{schema:JSON.parse(i.schema),onReady:function(e){return s.current=window.__editor__=e}}),r.a.createElement("div",{className:"btns-row"},r.a.createElement(q,{onClick:function(){var e=s.current,a=e.validate(),n=x();if(a.length>0)S("\u8868\u5355\u586b\u5199\u6709\u8bef\uff1a<br />".concat(a.map(function(e){return e.path+": "+e.message}).join("<br />")));else{var l=(/^(http|\/\/)/.test(i.api)?"":t.baseUrl)+i.api;_("POST",P(l),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},n,{data:JSON.stringify(e.getValue())})).then(function(e){0===e.code&&S("\u63d0\u4ea4\u6210\u529f")}).catch(function(e){S(e.msg)})}},value:"\u63d0\u4ea4",extClass:"btn-primary"}),r.a.createElement(q,{onClick:function(){console.log(s.current.getValue())},value:"console.log",extClass:"btn-outline-primary"}),!I&&r.a.createElement(q,{onClick:function(){return e.history.goBack()},value:"\u8fd4\u56de",extClass:"btn-outline-secondary"}))))},Ee=function(e){var t="/table/edit/:id"===e.match.path,a=Object(l.useRef)(null),n=Object(l.useRef)(null);return W.title=t?"\u7f16\u8f91\u5217\u8868":"\u521b\u5efa\u5217\u8868",Object(l.useEffect)(function(){if(t){var l=e.match.params.id;_("GET",ae,{id:l}).then(function(e){var t=e.data,l=t.config,r=t.ext;l&&a.current.setValue(JSON.parse(l)),r&&n.current.setValue(r)})}},[t,e.match.params.id]),r.a.createElement(U,null,r.a.createElement("div",{className:"lego-card"},r.a.createElement($,{onReady:function(e){return a.current=e},schema:W}),r.a.createElement("div",{className:"card card-body",style:{marginTop:20,background:"#fafafa"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label"},"\u5e38\u89c4\u529f\u80fd\u65e0\u6cd5\u6ee1\u8db3\u65f6\uff0c\u5229\u7528JavaScript\u8fdb\u884c\u6269\u5c55"),r.a.createElement("div",{style:{height:300}},r.a.createElement(Z,{type:"javascript",onReady:function(e){return n.current=e}})))))),r.a.createElement("div",{className:"btns-row"},r.a.createElement(q,{onClick:function(){var l=a.current,r=l.validate();if(r.length>0)S("\u8868\u5355\u586b\u5199\u6709\u8bef\uff1a<br />".concat(r.map(function(e){return e.path+": "+e.message}).join("<br />")));else{var c=l.getValue(),i=c.base,o=i.name,s=i.desc,m={name:o,origin:origin,desc:s,config:JSON.stringify(c),ext:n.current.getValue()};t&&(m.id=e.match.params.id),_("POST",ae,m).then(function(){S("\u4fdd\u5b58\u6210\u529f"),e.history.push("/table/list")}).catch(function(e){S(e.msg)})}},value:"\u63d0\u4ea4",extClass:"btn-primary"}),r.a.createElement(q,{value:"\u5e2e\u52a9",onClick:function(){return window.open("".concat("/htm","/help/table"))},extClass:"btn-outline-primary"}),r.a.createElement(q,{onClick:function(){return e.history.goBack()},value:"\u8fd4\u56de",extClass:"btn-outline-secondary"}))))},be=function(e){var t=window.location.host,a="//".concat(t,"/_lego_api_/"),n={base:{name:"\u5217\u8868\u7ba1\u7406",api:a+"table/list?name={{name}}&pn={{pageNo}}",path:"data.list"},cols:[{key:"id",name:"ID",width:"100",fn:[]},{key:"name",name:"\u5217\u8868\u540d\u79f0",width:"300",fn:["search"]},{key:"desc",name:"\u5907\u6ce8",width:"",fn:[]}],handles:[{key:"preview",name:"\u9884\u89c8",icon:"eye",url:"/table/use/{{id}}",action:"link"},{key:"edit",name:"\u7f16\u8f91",icon:"edit",url:"/table/edit/{{id}}",action:"link"},{key:"delete",name:"\u5220\u9664",icon:"trash-alt",url:a+"table/delete?id={{id}}",action:"api"}]};return r.a.createElement(U,null,r.a.createElement("div",{className:"lego-card"},r.a.createElement("div",{id:"tableTopHook",className:"table-top clearfix"},r.a.createElement("h2",{className:"title"},n.base.name),r.a.createElement("div",{className:"btns"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.history.push("/table/create")}},r.a.createElement("i",{className:"fas fa-plus"}),r.a.createElement("span",null,"\u521b\u5efa\u5217\u8868")))),r.a.createElement(V,{config:n})))},ge=function(e){var t=Object(l.useState)(null),a=Object(n.a)(t,2),c=a[0],i=a[1];return Object(l.useEffect)(function(){var t,a,l=e.match.params.id;return _("GET",ae,{id:l}).then(function(e){i(JSON.parse(e.data.config));var l=C(e.data.ext),r=Object(n.a)(l,2);t=r[0],a=r[1]}),function(){try{i(null),console.log("unmount ".concat(t)),delete window[t],a.remove()}catch(e){console.warn(e)}}},[e.match.params.id]),r.a.createElement(U,null,r.a.createElement("div",{className:"lego-card"},r.a.createElement("div",{id:"tableTopHook",className:"table-top clearfix"},r.a.createElement("h2",{className:"title"},c?c.base.name:"")),c&&r.a.createElement(V,{config:c})))},ve=function(e){var t="/chart/edit/:id"===e.match.path,a=Object(l.useRef)(null);return X.title=t?"\u7f16\u8f91\u56fe\u8868":"\u521b\u5efa\u56fe\u8868",Object(l.useEffect)(function(){if(t){var n=e.match.params.id;_("GET",ne,{id:n}).then(function(e){var t=e.data.config;t&&a.current.setValue(JSON.parse(t))})}},[t,e.match.params.id]),r.a.createElement(U,null,r.a.createElement("div",{className:"lego-card"},r.a.createElement($,{onReady:function(e){return a.current=e},schema:X}),r.a.createElement("div",{className:"btns-row"},r.a.createElement(q,{onClick:function(){var n=a.current,l=n.validate();if(l.length>0)S("\u8868\u5355\u586b\u5199\u6709\u8bef\uff1a<br />".concat(l.map(function(e){return e.path+": "+e.message}).join("<br />")));else{var r=n.getValue(),c={name:r.name,desc:r.desc,config:JSON.stringify(r)};t&&(c.id=e.match.params.id),_("POST",ne,c).then(function(){S("\u4fdd\u5b58\u6210\u529f"),e.history.push("/chart/list")}).catch(function(e){S(e.msg)})}},value:"\u63d0\u4ea4",extClass:"btn-primary"}),r.a.createElement(q,{value:"\u5e2e\u52a9",onClick:function(){return window.open("".concat("/htm","/help/chart"))},extClass:"btn-outline-primary"}),r.a.createElement(q,{onClick:function(){return e.history.goBack()},value:"\u8fd4\u56de",extClass:"btn-outline-secondary"}))))},ye=function(e){var t=window.location.host,a="//".concat(t,"/_lego_api_/"),n={base:{name:"\u56fe\u8868\u7ba1\u7406",api:a+"chart/list?name={{name}}&pn={{pageNo}}",path:"data.list"},cols:[{key:"id",name:"ID",width:"100",fn:[]},{key:"name",name:"\u56fe\u8868\u540d\u79f0",width:"300",fn:["search"]},{key:"desc",name:"\u5907\u6ce8",width:"",fn:[]}],handles:[{key:"preview",name:"\u9884\u89c8",icon:"eye",url:"/chart/use/{{id}}",action:"link"},{key:"edit",name:"\u7f16\u8f91",icon:"edit",url:"/chart/edit/{{id}}",action:"link"},{key:"delete",name:"\u5220\u9664",icon:"trash-alt",url:a+"chart/delete?id={{id}}",action:"api"}]};return r.a.createElement(U,null,r.a.createElement("div",{className:"lego-card"},r.a.createElement("div",{id:"tableTopHook",className:"table-top clearfix"},r.a.createElement("h2",{className:"title"},n.base.name),r.a.createElement("div",{className:"btns"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.history.push("/chart/create")}},r.a.createElement("i",{className:"fas fa-plus"}),r.a.createElement("span",null,"\u521b\u5efa\u56fe\u8868")))),r.a.createElement(V,{config:n})))},Ne=function(e){var t=Object(l.useState)(null),a=Object(n.a)(t,2),c=a[0],i=a[1];return Object(l.useEffect)(function(){var t=e.match.params.id;_("GET",ne,{id:t}).then(function(e){return i(JSON.parse(e.data.config))})},[e.match.params.id]),r.a.createElement(U,null,r.a.createElement("div",{className:"lego-card"},c&&r.a.createElement(H,{config:c})))};a(397),a(398);i.a.render(r.a.createElement(function(){var e=Object(l.useState)({}),t=Object(n.a)(e,2),a=t[0],c=t[1],i=!I,u=!I&&"standalone"===a.mode;return Object(l.useEffect)(function(){_("GET",ee).then(function(e){var t=e.data,a=t.name,n=void 0===a?"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf":a,l=t.baseUrl,r=t.mode,i=t.sideMenu,o=t.uploadFn;c({name:n,baseUrl:l,mode:r,sideMenu:i,uploadFn:o})}).catch(function(e){console.warn(e)})},[]),Object(l.useEffect)(function(){var e="";try{a.uploadFn&&(e=C(a.uploadFn),console.log("FileUploader mounted!"))}catch(t){console.warn(t)}return function(){e.length>0&&(window[e]=null)}},[a.uploadFn]),r.a.createElement(m.Provider,{value:a},r.a.createElement("section",{className:"frame-main"},r.a.createElement(o.a,{basename:"/htm"},u&&r.a.createElement(A,null),r.a.createElement("div",{className:"frame-body"},i&&r.a.createElement(L,{mode:a.mode}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:["/index","/"],render:se}),r.a.createElement(s.a,{path:"/setting",render:function(){return r.a.createElement(le,{updateSetting:c})}}),r.a.createElement(s.a,{path:"/form/create",component:me}),r.a.createElement(s.a,{path:"/form/list",component:ue}),r.a.createElement(s.a,{path:"/form/edit/:id",component:de}),r.a.createElement(s.a,{path:"/form/use/:id",component:he}),r.a.createElement(s.a,{path:"/table/create",component:Ee}),r.a.createElement(s.a,{path:"/table/edit/:id",component:Ee}),r.a.createElement(s.a,{path:"/table/list",component:be}),r.a.createElement(s.a,{path:"/table/use/:id",component:ge}),r.a.createElement(s.a,{path:"/chart/create",component:ve}),r.a.createElement(s.a,{path:"/chart/edit/:id",component:ve}),r.a.createElement(s.a,{path:"/chart/list",component:ye}),r.a.createElement(s.a,{path:"/chart/use/:id",component:Ne}),r.a.createElement(s.a,{path:"/help/form",component:re}),r.a.createElement(s.a,{path:"/help/table",component:ce}),r.a.createElement(s.a,{path:"/help/chart",component:ie}),r.a.createElement(s.a,{path:"/help/general",component:oe}))))))},null),document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.bf636a01.chunk.js.map